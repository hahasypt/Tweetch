!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="f888aa81-c7eb-4780-979e-45c8265871ca",e._sentryDebugIdIdentifier="sentry-dbid-f888aa81-c7eb-4780-979e-45c8265871ca")}catch(e){}}(),(self.webpackChunktwitch_twilight=self.webpackChunktwitch_twilight||[]).push([[43540],{334848:function(e,n,i){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"guestStarOngoingSession"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GuestStarSessionForViewers"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"host"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"dropinUserFragment"},directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryColorHex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"guests"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"guestStarGuestSlotForViewers"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"guestStarGuestSlotForViewers"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GuestStarSlotForViewers"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slotID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"guestStarUserWithViewcount"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"guestStarUserWithViewcount"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"dropinUserFragment"},directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryColorHex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collaborationViewersCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewersCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]},a={};t.definitions=t.definitions.concat(i(852120).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=t},766697:function(e,n,i){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetHypeTrainExecutionV2"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"userLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hypeTrain"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"execution"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainExecutionV2"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"approaching"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainApproaching"},directives:[]}]}}]}}]}}]}}]}}]},a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}t.definitions=t.definitions.concat(r(i(918957).definitions)),t.definitions=t.definitions.concat(r(i(406810).definitions));var l={};t.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),l[e.name.value]=n}})),e.exports=t},345379:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainApproachingEventsRemaining"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainApproachingEventsRemaining"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"events"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"secondsRemaining"},arguments:[],directives:[]}]}}]}},406810:function(e,n,i){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainApproaching"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainApproaching"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"goal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"creatorColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"participants"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isGoldenKappaTrain"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"potentialRewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainPotentialReward"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"eventsRemaining"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainApproachingEventsRemaining"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"levelOneRewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainReward"},directives:[]}]}}]}}]},a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}t.definitions=t.definitions.concat(r(i(407403).definitions)),t.definitions=t.definitions.concat(r(i(811976).definitions)),t.definitions=t.definitions.concat(r(i(345379).definitions)),e.exports=t},511589:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainBadgeReward"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainBadgeReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"badge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"DOUBLE"}}],directives:[]}]}}]}}]}},951529:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainCalloutEmote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}]}},609202:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainCompletedV2"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainCompleted"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"level"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"goal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"progression"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}},824299:function(e,n,i){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainConductorReward"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainConductorReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainReward"},directives:[]}]}}]}}]},a={};t.definitions=t.definitions.concat(i(407403).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=t},720809:function(e,n,i){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainConductorUpdate"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainExecution"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"conductors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainConductor"},directives:[]}]}}]}}]},a={};t.definitions=t.definitions.concat(i(864421).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=t},864421:function(e,n,i){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainConductor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainConductor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"participation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainParticipation"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"50"}}],directives:[]}]}}]}}]},a={};t.definitions=t.definitions.concat(i(330641).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=t},927125:function(e,n,i){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainConfigV2"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainConfig"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"difficulty"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"difficultySettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"difficulty"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxLevel"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"conductorRewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainConductorReward"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"participationConversionRates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainParticipationConversionRate"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"calloutEmote"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainCalloutEmote"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"willUseCreatorColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryHexColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"potentialRewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainPotentialReward"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"kickoff"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"minPoints"},arguments:[],directives:[]}]}}]}}]},a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}t.definitions=t.definitions.concat(r(i(951529).definitions)),t.definitions=t.definitions.concat(r(i(824299).definitions)),t.definitions=t.definitions.concat(r(i(276857).definitions)),t.definitions=t.definitions.concat(r(i(811976).definitions)),e.exports=t},21462:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainEmoteReward"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainEmoteReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"emote"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}]}}]}},395359:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainExecutionSelfEdgeUpdate"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainExecution"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEligibleForRewards"},arguments:[],directives:[]}]}}]}}]}},918957:function(e,n,i){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainExecutionV2"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainExecution"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endReason"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"progress"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainProgressV2"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"conductors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainConductor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"config"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainConfigV2"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"allTimeHigh"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainCompletedV2"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"participations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"quantity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isGoldenKappaTrain"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isFastMode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEligibleForRewards"},arguments:[],directives:[]}]}}]}}]},a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}t.definitions=t.definitions.concat(r(i(609202).definitions)),t.definitions=t.definitions.concat(r(i(864421).definitions)),t.definitions=t.definitions.concat(r(i(927125).definitions)),t.definitions=t.definitions.concat(r(i(297604).definitions)),e.exports=t},456727:function(e,n,i){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainLevelUpdateV2"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainExecution"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"progress"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainProgressUpdateV2"},directives:[]},{kind:"Field",name:{kind:"Name",value:"level"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainLevel"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]}]}}]},a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}t.definitions=t.definitions.concat(r(i(683428).definitions)),t.definitions=t.definitions.concat(r(i(924824).definitions)),e.exports=t},924824:function(e,n,i){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainLevel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainLevel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"goal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainReward"},directives:[]}]}}]}}]},a={};t.definitions=t.definitions.concat(i(407403).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=t},276857:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainParticipationConversionRate"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainParticipationConversionRate"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}},330641:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainParticipation"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainParticipation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"quantity"},arguments:[],directives:[]}]}}]}},811976:function(e,n,i){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainPotentialReward"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainPotentialReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"level"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainReward"},directives:[]}]}}]}}]},a={};t.definitions=t.definitions.concat(i(407403).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=t},683428:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainProgressUpdateV2"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainProgress"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"goal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"progression"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"allTimeHighState"},arguments:[],directives:[]}]}}]}},297604:function(e,n,i){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainProgressV2"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainProgress"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"level"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainLevel"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"goal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"progression"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"allTimeHighState"},arguments:[],directives:[]}]}}]},a={};t.definitions=t.definitions.concat(i(924824).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=t},407403:function(e,n,i){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainReward"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainEmoteReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainEmoteReward"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainBadgeReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainBadgeReward"},directives:[]}]}}]}}]},a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}t.definitions=t.definitions.concat(r(i(21462).definitions)),t.definitions=t.definitions.concat(r(i(511589).definitions)),e.exports=t},972779:function(e,n,i){"use strict";i.d(n,{Kg:function(){return h},wF:function(){return t}});var t,a=i(474848),r=i(914421),o=i(216042),l=i(246942),d=i.n(l),u=i(296540),s=i(868238),c=i(125959),v=i(446663),m=i(195824),p=i(854803),f=i(306445),g=i(651342),k=i(917602);!function(e){e[e.Large=4]="Large",e[e.Medium=3]="Medium",e[e.Small=2]="Small",e[e.ExtraSmall=1.5]="ExtraSmall",e[e.ExtremelySmall=1]="ExtremelySmall"}(t||(t={}));var h=(0,s.Zz)((0,v.a3)((function(e){return{bitsConfig:e.bitsConfig}})))((function(e){var n,i=(0,u.useContext)(g.nK).value,l=e.bitsConfig&&e.bitsConfig.indexedActions[e.prefix.toLowerCase()];l||(l=(0,f.Vt)("Cheer"));var s=e.amount||m.fB,v=l.orderedTiers.find((function(e){return e.bits<=s}));v||(v=l.orderedTiers[0]);var h=null===(n=e.bitsConfig)||void 0===n?void 0:n.tiers.find((function(e){return e.bits<=s}));h||(h=e.bitsConfig.tiers[0]);var _=e.display===r.nl.Inline||e.display===r.nl.InlineFlex||e.display===r.nl.InlineBlock,y=null,S=d()("cheermote-for-amount__cheer-amount",{"cheermote-for-amount__display--table-cell":!_},{"cheermote-for-amount__cheer-amount--medium":e.size===t.Medium},{"cheermote-for-amount__cheer-amount--small":e.size===t.Small||e.size===t.ExtraSmall},{"cheermote-for-amount__cheer-amount--extremely-small":e.size===t.ExtremelySmall});if(void 0!==e.amount&&e.showAmount){var T=e.formattedNumber?(0,c.ZV)(e.amount):e.amount;y=(0,a.jsx)(o.S,{padding:e.size===t.Small?0:void 0,textAlign:e.size===t.Small?r.nO.Center:void 0,children:(0,a.jsx)("strong",{className:S,style:{color:h.color},children:T})})}var N=d()("cheermote-for-amount__cheer-image",{"cheermote-for-amount__display--table-cell":!_},{"cheermote-for-amount__cheer--inline":_},{"cheermote-for-amount__cheer-image--small":e.size===t.Small},{"cheermote-for-amount__cheer-image--extra-small":e.size===t.ExtraSmall},{"cheermote-for-amount__cheer-image--extremely-small":e.size===t.ExtremelySmall}),F=(0,a.jsx)(k.F,{className:N,sources:(0,p.Yj)(l,v.bits,e.size||t.Large,i&&e.animated)});return e.showImage||(F=null),(0,a.jsx)(o.S,{className:"cheermote-for-amount",alignItems:e.alignItems,display:e.display,children:(0,a.jsxs)("span",{children:[F,y]})})}))},974102:function(e,n,i){"use strict";i.d(n,{Ek:function(){return p},ND:function(){return v},SQ:function(){return g},cR:function(){return s},ef:function(){return k},r6:function(){return m},xj:function(){return f},y2:function(){return c}});var t=i(474848),a=i(216042),r=i(312663),o=i(914421),l=i(588702),d=i(125959),u=i(536687);function s(){return(0,d.hw)("Category","GameSearch")}function c(){return(0,d.hw)("Categories","BrowseHeader")}function v(){return(0,d.hw)("Category:","GameLinkLabel")}function m(e){return(0,d.hw)("{viewerCount, plural, one {{viewerCountFormatted} viewer} other {{viewerCountFormatted} viewers}}",{viewerCount:e,viewerCountFormatted:(0,d.H2)(e,{maximumFractionDigits:(0,u.M)(e)})},"VideoPreviewCard")}function p(e){return(0,d.hw)("{viewerCount, plural, one {{viewerCountFormatted} view} other {{viewerCountFormatted} views}}",{viewerCount:e,viewerCountFormatted:(0,d.H2)(e,{maximumFractionDigits:(0,u.M)(e)})},"VideoPreviewCard")}function f(e){return(0,d.hw)("{followerCount, plural, one {{followerCountFormatted} follower} other {{followerCountFormatted} followers}}",{followerCount:e,followerCountFormatted:(0,d.H2)(e,{maximumFractionDigits:(0,u.M)(e)})},"CommonTranslations")}function g(e){return(0,d.hw)("{followerCount, plural, one {<x:bold>{followerCountFormatted}</x:bold> follower} other {<x:bold>{followerCountFormatted}</x:bold> followers}}",{followerCount:e,followerCountFormatted:(0,d.H2)(e,{maximumFractionDigits:(0,u.M)(e)}),"x:bold":function(e){return(0,t.jsx)(a.S,{margin:{right:.5},children:(0,t.jsx)(r.N,{color:o.Q1.Base,fontSize:o.Z4.Size5,type:l.M2.Span,fontWeight:o.IT.SemiBold,children:e})})}},"CommonTranslations")}function k(e,n){return(0,d.hw)("{viewerCount, plural, one {Streaming <x:bold>{game}</x:bold> with <x:bold>{viewerCountFormatted} viewer</x:bold>} other {Streaming <x:bold>{game}</x:bold> with <x:bold>{viewerCountFormatted} viewers</x:bold>}}",{game:e,viewerCount:n,viewerCountFormatted:(0,d.H2)(n,{maximumFractionDigits:(0,u.M)(n)}),"x:bold":function(e){return(0,t.jsx)(r.N,{color:o.Q1.Base,type:l.M2.Span,fontWeight:o.IT.SemiBold,children:e})}},"CommonTranslations")}},396719:function(e,n,i){"use strict";i.d(n,{YB:function(){return l},fw:function(){return t},s6:function(){return a},xu:function(){return r},yI:function(){return o}});var t={rain:14,rainOptout:10,fireworks:25,fireworksOptout:16},a=7e3,r=5e3,o={simmer:58,simmerRain:276,simmerRainShort:216,rainOptout:40,fireworks:276,fireworksShort:216,fireworksOptout:149},l=[{src:"https://d3aqoihi2n8ty8.cloudfront.net/celebi/diamond.png",token:"diamond"},{src:"https://d3aqoihi2n8ty8.cloudfront.net/celebi/star.png",token:"star"},{src:"https://static-cdn.jtvnw.net/emoticons/v1/9/1.0",token:"heart"}]},927467:function(e,n,i){"use strict";i.d(n,{K6:function(){return t},nn:function(){return a},rw:function(){return r}});var t,a,r;!function(e){e.Control="Control",e.VariantA="VariantA",e.VariantB="VariantB",e.VariantC="VariantC"}(t||(t={})),function(e){e[e.Unknown=0]="Unknown",e.Complete="Complete",e.NearComplete="NearComplete"}(a||(a={})),function(e){e.NoAnimations="no_animation",e.Simmer="simmer",e.SimmerRain="simmer_rain",e.Fireworks="fireworks",e.RainOptOut="rain_optout",e.FireworksOptOut="fireworks_optout"}(r||(r={}))},633340:function(e,n,i){"use strict";i.d(n,{$e:function(){return c},Q7:function(){return u},RM:function(){return o},RQ:function(){return l},W5:function(){return d},km:function(){return s}});var t=i(503118),a=i(396719),r=i(927467),o=function(e){var n=e.progress/e.goal*100,i=n>100?100:n;if(e.hypeTrainProgressVisible&&(i>=95&&i<=100||e.allTimeHighState===t.Q.REACHED)){var a={level:e.level,status:r.nn.NearComplete,noCelebration:!0};return e.level===e.lastLevel&&100===i||(a.noCelebration=!1),a}if(e.hypeTrainLeveledUp&&!e.hypeTrainProgressVisible){a={level:e.level,status:r.nn.Complete,noCelebration:!0};return e.previousLevel>0&&(a.noCelebration=!1),a}return{level:e.level,status:r.nn.Unknown,noCelebration:!0}},l=function(e,n){return n.noCelebration?r.rw.NoAnimations:n.status===r.nn.NearComplete?r.rw.Simmer:n.status===r.nn.Complete?n.level===e.lastLevel?r.rw.Fireworks:r.rw.SimmerRain:r.rw.NoAnimations},d=function(e,n){var i=new Image;return i.src=e.src,i.alt=e.token,i.width=n,i.height=n,i},u=function(e){switch(e){case r.rw.Simmer:case r.rw.SimmerRain:return a.fw.rain;case r.rw.Fireworks:return a.fw.fireworks;case r.rw.RainOptOut:return a.fw.rainOptout;case r.rw.FireworksOptOut:return a.fw.fireworksOptout;default:return 0}},s=function(e){return e.noCelebration||e.status===r.nn.Unknown?"0":"level_".concat(e.level,"_").concat(e.status===r.nn.Complete?"complete":"95")},c=function(e,n){return e.level!==n.level||e.noCelebration!==n.noCelebration||e.status!==n.status}},503118:function(e,n,i){"use strict";var t;i.d(n,{Q:function(){return t}}),function(e){e.NONE="NONE",e.APPROACHING="APPROACHING",e.JUST_REACHED="JUST_REACHED",e.REACHED="REACHED"}(t||(t={}))},512009:function(e,n,i){"use strict";i.d(n,{Jx:function(){return r},KV:function(){return a},Zy:function(){return k},h2:function(){return _},ls:function(){return y},p4:function(){return p},pE:function(){return m},sK:function(){return h}});var t=i(267924),a=function(e){var n=Object.entries(e.conductors).map((function(e){return r(e[0],e[1])})),i={__typename:"HypeTrainExecution",id:e.id,config:l(e.config,e.id),startedAt:new Date(e.started_at).toISOString(),expiresAt:new Date(e.expires_at).toISOString(),updatedAt:new Date(e.updated_at).toISOString(),participations:Object.entries(e.participations).map((function(e){return o(e[0],e[1])})),conductors:n,endedAt:null,endReason:null,progress:m(e.progress,e.channel_id,e.config.difficulty,e.id),isGoldenKappaTrain:e.is_golden_kappa_train,allTimeHigh:f(e.all_time_high_progress,e.channel_id,e.config.difficulty)};return e.ended_at&&(i.endedAt=new Date(e.ended_at).toISOString()),e.ending_reason&&(i.endReason=e.ending_reason),i},r=function(e,n){var i=Object.entries(n.participations).map((function(e){return o(e[0],e[1])}));return{__typename:"HypeTrainConductor",id:n.id,source:e,participation:i,user:{__typename:"User",id:n.user.id,login:n.user.login,displayName:n.user.display_name,profileImageURL:n.user.profile_image_url}}},o=function(e,n){var i=e.split(".");return{__typename:"HypeTrainParticipation",source:i[0],action:i[1],quantity:n}},l=function(e,n){var i=[];return Object.entries(e.conductor_rewards).forEach((function(e){var n=Object.entries(e[1]).map((function(n){return i=e[0],t=n[0],a=n[1],{__typename:"HypeTrainConductorReward",source:i,type:t,rewards:a.map(k)};var i,t,a}));i=i.concat(n)})),{__typename:"HypeTrainConfig",id:n?"".concat(e.channel_id,":").concat(n):e.channel_id,conductorRewards:i,cooldownPeriodMinutes:e.cooldown_duration,difficulty:e.difficulty,difficultySettings:Object.entries(e.difficulty_settings).map((function(n){return s(n[0],e.channel_id,n[1])})),isEnabled:e.is_enabled,shouldUsePersonalizedSettings:e.use_personalized_settings,kickoff:u(e.kickoff),levelDurationSeconds:e.level_duration,notificationThresholds:Object.entries(e.notification_thresholds).map((function(e){return c(e[0],e[1])})),participationConversionRates:Object.entries(e.participation_conversion_rates).map((function(e){return v(e[0],e[1])})),calloutEmote:d(e),willUseCreatorColor:e.use_creator_color,primaryHexColor:e.primary_hex_color}},d=function(e){return{__typename:"Emote",id:e.callout_emote_id,token:e.callout_emote_token}},u=function(e){return{__typename:"HypeTrainKickoffConfig",eventsThreshold:e.num_of_events,minPoints:e.min_points,periodSeconds:e.duration}},s=function(e,n,i){return{__typename:"HypeTrainDifficultySettings",difficulty:e,levels:i.map((function(i){return g(i,n,e)}))}},c=function(e,n){var i=e.split(".");return{__typename:"HypeTrainNotificationThreshold",source:i[0],action:i[1],value:n}},v=function(e,n){var i=e.split(".");return{__typename:"HypeTrainParticipationConversionRate",source:i[0],action:i[1],value:n}},m=function(e,n,i,t){return{__typename:"HypeTrainProgress",id:t,goal:e.goal,total:e.total,progression:e.value,remainingSeconds:e.remaining_seconds,level:g(e.level,n,i)}},p=function(e,n,i,t){return{__typename:"HypeTrainProgress",id:e,goal:n.goal,total:n.total,progression:n.value,level:g(n.level,i,t),allTimeHighState:y(n.all_time_high_state)}},f=function(e,n,i){return{__typename:"HypeTrainCompleted",goal:e.goal,total:e.total,progression:e.value,level:g(e.level,n,i)}},g=function(e,n,i){var t=e.rewards.map(k);return{__typename:"HypeTrainLevel",id:"".concat(n,":").concat(i,":").concat(e.value),value:e.value,goal:e.goal,rewards:t}},k=function(e){switch(e.type){case t.Asq.BADGE:return{__typename:"HypeTrainBadgeReward",id:e.id,type:t.Asq.BADGE,badge:{__typename:"Badge",id:e.badge_id||e.id,setID:e.group_id,imageURL:e.image_url||""}};case t.Asq.EMOTE:return{__typename:"HypeTrainEmoteReward",id:e.id,type:t.Asq.EMOTE,emote:{__typename:"Emote",id:e.id,token:e.token||""}};default:throw new Error("unknown reward type found")}},h=function(e){return e.map((function(e){return{__typename:"HypeTrainParticipation",action:e.action,source:e.source,quantity:e.quantity}}))},_=function(e){return Array.from(Object.keys(e)).map((function(n){return{__typename:"HypeTrainApproachingEventsRemaining",events:parseInt(n,10),secondsRemaining:e[n]}}))},y=function(e){switch(e){case t.Q8_.APPROACHING:return t.Q8_.APPROACHING;case t.Q8_.REACHED:return t.Q8_.REACHED;default:return t.Q8_.NONE}}},926548:function(e,n,i){"use strict";i.d(n,{Cs:function(){return l},EF:function(){return v},J:function(){return g},LE:function(){return c},TK:function(){return f},Up:function(){return r},X7:function(){return o},Zl:function(){return t},h7:function(){return p},lJ:function(){return a},t9:function(){return m}});var t,a,r,o,l,d,u=i(125959),s=i(633340),c="hype-train";function v(e){var n={server_time:e.serverTime,channel_id:e.channelID,user_id:e.userID,train_id:e.trainID,action_name:e.action,action_type:e.actionType};u.E5.__track_SSRMigrationFixme("hype_train_card_interaction",n)}function m(e){var n={channel_id:e.channel_id,hype_train_level:(0,s.km)(e.hype_train_level),animation_type:e.animation_type,train_id:e.train_id,channel_treatment:e.channel_treatment};u.E5.track("hype_train_celebration_impression",n)}function p(e){e.channel_id&&u.E5.track("hype_train_approaching_impression",e)}function f(e){var n=u.Zn.get("hype_train_availability_sample_rate",0);Math.random()<n&&u.E5.track("hype_train_availability_event",e)}function g(e){var n="";if(e.hype_train_approaching)n=d.Approaching;else if(e.hype_train_started)n=d.Started;else if(e.hype_train_leveled_up)n=d.LevelUp;else if(e.hype_train_failed)n=d.Failed;else if(e.hype_train_complete)n=d.Complete;else{if(!e.hype_train_in_progress)return;n=d.InProgress}var i={user_id:e.user_id,channel_id:e.channel_id,train_id:e.train_id,current_level:e.current_level,all_time_high_status:e.all_time_high_status,hype_train_status:n};u.E5.__track_SSRMigrationFixme("hype_train_banner_impression",i)}!function(e){e.Expand="expand",e.Hide="hide",e.MoreInfo="moreinfo",e.LeaderName="leadername",e.BitsCTA="bitscta",e.SubsCTA="subscta",e.GiftCTA="giftcta"}(t||(t={})),function(e){e.Click="click"}(a||(a={})),function(e){e.Success="success",e.Failure="failure"}(r||(r={})),function(e){e.Approaching="approaching",e.Progress="progress",e.Pubsub_TrainConductorUpdate="pubsub_train_conductor_update",e.Pubsub_TrainLevelUp="pubsub_train_level_up",e.Pubsub_TrainStarting="pubsub_train_starting",e.End="end"}(o||(o={})),function(e){e.MissingGQLData="missing_gql_data",e.MissingInitiatorCurrency="missing_initiator_currency_powercheer",e.UnknownDuration="unknown_duration_event_sent",e.UnknownEndingReason="unknown_ending_reason",e.None="none"}(l||(l={})),function(e){e.Approaching="approaching",e.Started="started",e.InProgress="in_progress",e.Complete="complete",e.Failed="failed",e.LevelUp="level_up"}(d||(d={}))},752760:function(e,n,i){"use strict";i.d(n,{a:function(){return a},f:function(){return r}});var t,a=(t=(0,i(191132).U)({name:"HypeTrainRoot",category:"monetization"})).Available,r=t.Unavailable},950386:function(e,n,i){"use strict";i.d(n,{Zc:function(){return o},ku:function(){return r}});var t=i(917705),a=.5;function r(e){var n=(0,t.differenceInSeconds)(e,new Date);return Math.max(0,n)}function o(e){var n=(0,t.differenceInMilliseconds)(e,new Date)-1e3*a;return Math.max(0,n/1e3)}},309201:function(e,n,i){"use strict";i.d(n,{Z_:function(){return t},UD:function(){return k}});var t,a=i(331635),r=i(727234),o=i(10982),l=i(891975),d=i(296540),u=i(267924),s=i(950386),c=i(95159),v=i(726561);!function(e){e.Default="DEFAULT",e.LevelUpCTA="LEVEL_UP_CTA",e.GiftCTA="GIFT_CTA",e.UnlockRewardCTA="UNLOCK_REWARD_CTA",e.RewardRouletteCTA="REWARD_ROULETTE_CTA",e.ATHApproachingCTA="ATH_APPROACHING_CTA",e.ATHReachedCTA="ATH_REACHED_CTA"}(t||(t={}));var m,p=[t.LevelUpCTA,t.GiftCTA,t.UnlockRewardCTA,t.RewardRouletteCTA,t.ATHApproachingCTA,t.ATHReachedCTA],f={baselineState:t.Default,currentNonDefaultIndex:p.length-1,stateLoopIntervalDuration:0,stopPending:!1};!function(e){e.NextPanel="NEXT_PANEL",e.StartInterval="START_INTERVAL",e.StopInterval="STOP_INTERVAL",e.Reset="RESET"}(m||(m={}));var g=function(e,n){switch(n.type){case m.NextPanel:if(null===n.availableNonDefaultStates)return e;if(!e.stopPending&&0!==e.stateLoopIntervalDuration&&e.baselineState===t.Default){var i=(e.currentNonDefaultIndex+1)%n.availableNonDefaultStates.length;return(0,a.__assign)((0,a.__assign)({},e),{baselineState:n.availableNonDefaultStates[i],currentNonDefaultIndex:i})}return(0,a.__assign)((0,a.__assign)({},e),{baselineState:t.Default,stateLoopIntervalDuration:e.stopPending?0:e.stateLoopIntervalDuration,stopPending:!1});case m.StartInterval:return null===n.availableNonDefaultStates?e:(0,a.__assign)((0,a.__assign)({},e),{baselineState:t.Default,stateLoopIntervalDuration:6e3,currentNonDefaultIndex:n.availableNonDefaultStates.length-1,stopPending:!1});case m.StopInterval:return e.baselineState!==t.Default?(0,a.__assign)((0,a.__assign)({},e),{stopPending:!0}):(0,a.__assign)((0,a.__assign)({},e),{stateLoopIntervalDuration:0});case m.Reset:return f;default:return e}},k=function(e){var n,i,a,u,p,k,_,y=e.bannerState,S=e.data,T=e.earnableEmoteRewardsLength,N=e.lockedEmoteRewardsLength,F=(0,r.Z)(y),w=d.useReducer(g,f),C=w[0],x=w[1],b=d.useRef(null);null===b.current&&(b.current=h({activeHypeTrain:null===(i=null===(n=null==S?void 0:S.user)||void 0===n?void 0:n.channel)||void 0===i?void 0:i.hypeTrain.execution,earnableEmoteRewardsLength:T,lockedEmoteRewardsLength:N})),d.useEffect((function(){var e,n;b.current=h({activeHypeTrain:null===(n=null===(e=null==S?void 0:S.user)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.hypeTrain.execution,earnableEmoteRewardsLength:T,lockedEmoteRewardsLength:N})}),[null===(u=null===(a=null==S?void 0:S.user)||void 0===a?void 0:a.channel)||void 0===u?void 0:u.hypeTrain.execution,T,N]),(0,o.$)((function(){x({type:m.NextPanel,availableNonDefaultStates:b.current})}),C.baselineState!==t.Default||0===C.stateLoopIntervalDuration?C.stateLoopIntervalDuration:1e4),d.useEffect((function(){F!==y&&(y===c.SI.Baseline?x({type:m.StartInterval,availableNonDefaultStates:b.current}):x({type:m.StopInterval}))}),[y,F]),(0,l.S)((function(){y===c.SI.Baseline&&F===y&&x({type:m.StartInterval,availableNonDefaultStates:b.current})}));var D=d.useState(null),R=D[0],E=D[1];return function(e,n){void 0===n&&(n=0);var i=(0,v.F)(e);d.useEffect((function(){if(null!==n){var e=setTimeout((function(){i.current()}),n);return function(){return clearTimeout(e)}}}),[n,i])}((function(){x({type:m.StopInterval})}),R),d.useEffect((function(){var e,n,i;if(null===(i=null===(n=null===(e=null==S?void 0:S.user)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.hypeTrain.execution)||void 0===i?void 0:i.expiresAt){var t=Math.max(0,(0,s.Zc)(new Date(S.user.channel.hypeTrain.execution.expiresAt))-30);E(1e3*t)}else E(0)}),[null===(_=null===(k=null===(p=null==S?void 0:S.user)||void 0===p?void 0:p.channel)||void 0===k?void 0:k.hypeTrain.execution)||void 0===_?void 0:_.expiresAt]),d.useEffect((function(){y===c.SI.Inactive&&(x({type:m.Reset}),E(null))}),[y]),{baselinePanelState:C.baselineState,pauseBaselinePanelCycle:function(){return x({type:m.StopInterval})},resumeBaselinePanelCycle:function(){var e,n,i;!(null===(i=null===(n=null===(e=null==S?void 0:S.user)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.hypeTrain.execution)||void 0===i?void 0:i.expiresAt)||(0,s.Zc)(new Date(S.user.channel.hypeTrain.execution.expiresAt))<=30||x({type:m.StartInterval,availableNonDefaultStates:b.current})}}},h=function(e){var n=e.activeHypeTrain,i=e.earnableEmoteRewardsLength,a=e.lockedEmoteRewardsLength,r=!!(null==n?void 0:n.progress.level)&&n.progress.level.value>1;return(null==n?void 0:n.progress.allTimeHighState)&&n.progress.allTimeHighState===u.Q8_.APPROACHING?[t.ATHApproachingCTA]:(null==n?void 0:n.progress.allTimeHighState)&&n.progress.allTimeHighState===u.Q8_.REACHED?[t.ATHReachedCTA]:p.filter((function(e){var o;switch(e){case t.LevelUpCTA:return!0;case t.GiftCTA:return r&&!(null===(o=n.self)||void 0===o?void 0:o.isEligibleForRewards)&&(i>0||a>0||n.isGoldenKappaTrain);case t.UnlockRewardCTA:return r&&(i>0||a>0||n.isGoldenKappaTrain);case t.RewardRouletteCTA:return r&&i>0;default:return!1}}))}},794380:function(e,n,i){"use strict";i.d(n,{A$:function(){return W},TZ:function(){return $}});var t=i(331635),a=i(474848),r=i(296540),o=i(105146),l=i(397568),d=i(752760),u=i(10982),s=i(225745),c=i(973421),v=i.n(c),m=i(917705),p=i(415044),f=i(783321),g=i(640598),k=i(982821),h=i(503472),_=i(456450),y=i(267924),S=i(131883);var T=i(512009),N=i(766697),F=i.n(N),w=i(720809),C=i.n(w),x=i(395359),b=i.n(x),D=i(456727),R=i.n(D),E=i(683428),A=i.n(E),H=i(926548),I=i(313793),P=i(74950),L=function(e,n,i,a){var r,o,l,d;return n&&(null===(o=null===(r=n.user)||void 0===r?void 0:r.channel)||void 0===o?void 0:o.hypeTrain.execution)?e.data.id!==(null===(d=null===(l=n.user)||void 0===l?void 0:l.channel)||void 0===d?void 0:d.hypeTrain.execution.id)?((0,H.TK)({channel_id:a,status:H.Up.Failure,event_loc:H.X7.End,error_type:H.Cs.MissingGQLData,pubsub_message_received_time:i}),n):((0,H.TK)({channel_id:a,status:H.Up.Success,event_loc:H.X7.End,error_type:H.Cs.None,pubsub_message_received_time:i}),v()(n,(function(e){return e.user.channel.hypeTrain.execution}),(function(n){return(0,t.__assign)((0,t.__assign)({},n),{endedAt:new Date(e.data.ended_at).toISOString(),endReason:e.data.ending_reason,participations:e.data.participation_totals.map((function(e){return{__typename:"HypeTrainParticipation",source:e.source,action:e.action,quantity:e.quantity}}))})}))):((0,H.TK)({channel_id:a,status:H.Up.Failure,event_loc:H.X7.End,error_type:H.Cs.MissingGQLData,pubsub_message_received_time:i}),n)},U=function(e,n,i,t,a){var r,o;return e.data.hype_train.self=null,n?n.user&&n.user.channel?(null===(o=null===(r=n.user)||void 0===r?void 0:r.channel)||void 0===o?void 0:o.hypeTrain.execution)?n:((0,H.TK)({channel_id:i||"",status:H.Up.Failure,event_loc:H.X7.Pubsub_TrainLevelUp,error_type:H.Cs.MissingGQLData,pubsub_message_received_time:a}),v()(n,(function(e){return e.user.channel.hypeTrain}),(function(n){return{__typename:"HypeTrain",execution:e.data.hype_train,approaching:n.approaching||null}}))):((0,H.TK)({channel_id:i||"",status:H.Up.Failure,event_loc:H.X7.Pubsub_TrainLevelUp,error_type:H.Cs.MissingGQLData,pubsub_message_received_time:a}),v()(n,(function(e){return e.user}),(function(){return{__typename:"User",id:i,displayName:t,channel:{__typename:"Channel",id:i,hypeTrain:{__typename:"HypeTrain",execution:e.data.hype_train,approaching:null}}}}))):((0,H.TK)({channel_id:i||"",status:H.Up.Failure,event_loc:H.X7.Pubsub_TrainLevelUp,error_type:H.Cs.MissingGQLData,pubsub_message_received_time:a}),{user:{__typename:"User",id:i,displayName:t,channel:{__typename:"Channel",id:i,hypeTrain:{__typename:"HypeTrain",execution:e.data.hype_train,approaching:null}}}})},M=function(e,n,i,t){return n&&n.user&&n.user.channel?((0,H.TK)({channel_id:i,status:H.Up.Success,event_loc:H.X7.Pubsub_TrainStarting,error_type:H.Cs.None,pubsub_message_received_time:t}),e.data.self=null,v()(n,(function(e){return e.user.channel.hypeTrain.execution}),(function(){return e.data}))):((0,H.TK)({channel_id:i,status:H.Up.Failure,event_loc:H.X7.Pubsub_TrainStarting,error_type:H.Cs.MissingGQLData,pubsub_message_received_time:t}),n)},O=function(e,n,i){var t=e.data,a=t.channel_id,r=t.goal,o=t.events_remaining_durations,l=t.level_one_rewards,d=t.creator_color,u=t.participants,s=t.is_golden_kappa_train,c=t.expires_at,m=t.potential_rewards,p=(0,T.h2)(o),f=l.reduce((function(e,n){try{var t=(0,T.Zy)(n);t&&e.push(t)}catch(e){(0,H.TK)({channel_id:a,status:H.Up.Failure,event_loc:H.X7.Approaching,error_type:H.Cs.MissingGQLData,pubsub_message_received_time:i})}return e}),[]);return n&&n.user&&n.user.channel?((0,H.TK)({channel_id:a,status:H.Up.Success,event_loc:H.X7.Approaching,error_type:H.Cs.None,pubsub_message_received_time:i}),v()(n,(function(e){return e.user.channel.hypeTrain.approaching}),(function(){return{__typename:"HypeTrainApproaching",id:a,goal:r,creatorColor:d,participants:u,isGoldenKappaTrain:s,eventsRemaining:p,levelOneRewards:f,potentialRewards:m,expiresAt:c}}))):((0,H.TK)({channel_id:a,status:H.Up.Failure,event_loc:H.X7.Approaching,error_type:H.Cs.MissingGQLData,pubsub_message_received_time:i}),n)},V=function(e,n){return v()(e,(function(e){return e.conductors}),(function(e){var i=[];return 0===n.length?e:(1===n.length?(e.forEach((function(e){e.id!==n[0].id&&i.push((0,t.__assign)((0,t.__assign)({},e),{participation:(0,t.__spreadArray)([],e.participation,!0)}))})),i.push(n[0])):i.push.apply(i,n),i)}))},B=function(e,n){return v()(e,(function(e){return e}),(function(e){return{id:e.id,progression:n.data.progress.value,goal:n.data.progress.goal,total:n.data.progress.total,allTimeHighState:(0,T.ls)(n.data.progress.all_time_high_state)}}))},G=function(e,n){return v()(e,(function(e){return e}),(function(e){var i=e.progress.level.id.split(":");return{__typename:e.__typename,progress:{__typename:e.progress.__typename,id:e.progress.id,progression:n.data.progress.value,goal:n.data.progress.goal,total:n.data.progress.total,allTimeHighState:(0,T.ls)(n.data.progress.all_time_high_state),level:{__typename:e.progress.level.__typename,id:"".concat(i[0],":").concat(i[1],":").concat(n.data.progress.level.value),value:n.data.progress.level.value,goal:n.data.progress.level.goal,rewards:n.data.progress.level.rewards.map(T.Zy)}},expiresAt:n.data.expires_at}}))},K=i(95159),j=i(423163),Q=i(745277),q=i(309201),z={instanceID:null,channelID:null,bannerState:K.SI.Inactive,data:void 0,earnableEmoteRewards:[],lockedEmoteRewards:[],channelLogin:"",baselinePanelState:q.Z_.Default,pauseBaselinePanelCycle:function(){},resumeBaselinePanelCycle:function(){}},X=(0,l.q)("HypeTrainV2Context",z),Z=X.context,$=(X.withContext,function(){return r.useContext(Z)}),W=function(e){var n=e.channelID,i=e.channelLogin,r=(0,t.__rest)(e,["channelID","channelLogin"]),o=$().instanceID;return!(0,Q.eM)()||o?(0,a.jsx)(a.Fragment,{children:r.children}):(0,a.jsx)(Y,(0,t.__assign)({channelID:n,channelLogin:i},r))},Y=function(e){var n,i,r,o,l,u,s=e.children,c=(0,t.__rest)(e,["children"]),v=J(c),m=null;return v.loading||(m=c.channelID?c.channelLogin?v.data?(null===(n=v.data)||void 0===n?void 0:n.user)?(null===(r=null===(i=v.data)||void 0===i?void 0:i.user)||void 0===r?void 0:r.channel)?(null===(u=null===(l=null===(o=v.data)||void 0===o?void 0:o.user)||void 0===l?void 0:l.channel)||void 0===u?void 0:u.hypeTrain)?(0,a.jsx)(d.a,{}):(0,a.jsx)(d.f,{reason:"Failed to retrieve HypeTrain data"}):(0,a.jsx)(d.f,{reason:"Failed to retrieve Channel data"}):(0,a.jsx)(d.f,{reason:"Failed to retrieve User data"}):(0,a.jsx)(d.f,{reason:"Data is undefined"}):(0,a.jsx)(d.f,{reason:"ChannelLogin is undefined"}):null),(0,a.jsxs)(a.Fragment,{children:[m,(0,a.jsx)(Z.Provider,{value:v,children:s})]})},J=function(e){var n,i,a=e.channelID,l=e.channelLogin,d=r.useRef((0,o.k3)()),c=function(e){var n=e.channelLogin,i=e.channelID,a=(0,p.d4)(S.wz),o=r.useRef(null),l=r.useRef(-1),d=r.useRef(null),c=r.useRef(null),N=(0,f.IT)(F(),{variables:{userLogin:null!=n?n:""},skip:null===n||null===i,fetchPolicy:"cache-and-network"}),w=N.client,x=N.data,D=N.loading,E=N.updateQuery;(0,g.s)({topic:(0,_.v9)((null==a?void 0:a.id)||""),skip:!(null==a?void 0:a.id),onMessage:function(e){var n,i,t,r;if(e.type===k.PD.HypeTrainRewardEligibility){var o=e;if(o.data.hypeTrainID===(null===(t=null===(i=null===(n=null==x?void 0:x.user)||void 0===n?void 0:n.channel)||void 0===i?void 0:i.hypeTrain.execution)||void 0===t?void 0:t.id)&&o.data.userID===(null==a?void 0:a.id)&&o.data.isEligibleForRewards!==(null===(r=x.user.channel.hypeTrain.execution.self)||void 0===r?void 0:r.isEligibleForRewards)){var l=(0,h.G5)(x.user.channel.hypeTrain.execution);l&&(0,h.WY)({id:l,fragment:b(),fragmentName:"hypeTrainExecutionSelfEdgeUpdate",mutator:function(e){return v()(e,(function(e){return e.self}),(function(){return{__typename:"HypeTrainExecutionSelfEdge",isEligibleForRewards:o.data.isEligibleForRewards}}))}},w)}}}});var K=(0,_.tf)(i||"");(0,g.s)({topic:K,skip:null===n||null===i,onMessage:function(e){var t=Date.now()/1e3;switch(e.type){case k.PD.HypeTrainProgression:var a=e;if(a.messageReceivedTime=t,a.data.sequence_id<=l.current)return;o.current=a,l.current=a.data.sequence_id;break;case k.PD.HypeTrainConductorUpdate:var r=e;r.messageReceivedTime=t,r.data.source===y.lTw.BITS?c.current=r:r.data.source===y.lTw.SUBS&&(d.current=r);break;case k.PD.HypeTrainApproaching:E((function(n){return O(e,n,t)}));break;case k.PD.HypeTrainStart:E((function(n){return M(e,n,i||"",t)})),l.current=-1;break;case k.PD.HypeTrainLevelUp:E((function(a){return U(e,a,i||"",n||"",t)}));break;case k.PD.HypeTrainEnd:E((function(n){return L(e,n,t,i||"")}))}}});var j=r.useState(0),Q=j[0],q=j[1];r.useEffect((function(){var e,n;if(null===(n=null===(e=null==x?void 0:x.user)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.hypeTrain.execution){var i=(0,m.differenceInMilliseconds)(x.user.channel.hypeTrain.execution.endedAt||x.user.channel.hypeTrain.execution.expiresAt,new Date);if((0,P.$m)(x)||!(i<=-15e3)){q(350);var t=setTimeout((function(){q(0)}),i+15e3+1);return function(){return clearTimeout(t)}}q(0)}else q(0)}),[x]),(0,u.$)((function(){var e,n,t,a,r,u,s,v,m,p=null;if(o.current){if(o.current.data.id!==(null===(t=null===(n=null===(e=null==x?void 0:x.user)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.hypeTrain.execution)||void 0===t?void 0:t.id))return o.current=null,void(l.current=-1);p=o.current,o.current=null}if(p&&(null===(r=null===(a=null==x?void 0:x.user)||void 0===a?void 0:a.channel)||void 0===r?void 0:r.hypeTrain.execution)&&(x.user.channel.hypeTrain.execution.progress.level.value<p.data.progress.level.value?(_=(0,h.G5)(x.user.channel.hypeTrain.execution))&&((0,h.WY)({id:_,fragment:R(),fragmentName:"hypeTrainLevelUpdateV2",mutator:function(e){return G(e,p)}},w),(0,H.TK)({channel_id:i||"",status:H.Up.Success,event_loc:H.X7.Pubsub_TrainLevelUp,error_type:H.Cs.None,pubsub_message_received_time:p.messageReceivedTime})):(_=(0,h.G5)(x.user.channel.hypeTrain.execution.progress))&&((0,h.WY)({id:_,fragment:A(),fragmentName:"hypeTrainProgressUpdateV2",mutator:function(e){return B(e,p)}},w),(0,H.TK)({channel_id:i||"",status:H.Up.Success,event_loc:H.X7.Progress,error_type:H.Cs.None,pubsub_message_received_time:p.messageReceivedTime}))),d.current||c.current){var f=null!==(s=null===(u=d.current)||void 0===u?void 0:u.messageReceivedTime)&&void 0!==s?s:0;c.current&&c.current.messageReceivedTime>f&&(f=c.current.messageReceivedTime);var g=c.current;c.current=null;var k=d.current;d.current=null;var _,y=[];g&&y.push((0,T.Jx)(g.data.source,g.data)),k&&y.push((0,T.Jx)(k.data.source,k.data)),y.length>0&&(null===(m=null===(v=null==x?void 0:x.user)||void 0===v?void 0:v.channel)||void 0===m?void 0:m.hypeTrain.execution)&&(_=(0,h.G5)(x.user.channel.hypeTrain.execution))&&((0,h.WY)({id:_,fragment:C(),fragmentName:"hypeTrainConductorUpdate",mutator:function(e){return V(e,y)}},w),(0,H.TK)({channel_id:i||"",status:H.Up.Success,event_loc:H.X7.Pubsub_TrainConductorUpdate,error_type:H.Cs.None,pubsub_message_received_time:f}))}}),Q);var z=r.useRef(null);r.useEffect((function(){var e,n,i,t,a,r,o,l,d,u;if((0,P.B$)(x)&&(0,P.Io)(null===(n=null===(e=null==x?void 0:x.user)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.hypeTrain.approaching)){var s=null===(r=null===(a=null===(t=null===(i=null==x?void 0:x.user)||void 0===i?void 0:i.channel)||void 0===t?void 0:t.hypeTrain.approaching)||void 0===a?void 0:a.eventsRemaining)||void 0===r?void 0:r.find((function(e){return 1===(null==e?void 0:e.events)})),c=null===(u=null===(d=null===(l=null===(o=null==x?void 0:x.user)||void 0===o?void 0:o.channel)||void 0===l?void 0:l.hypeTrain.approaching)||void 0===d?void 0:d.eventsRemaining)||void 0===u?void 0:u.find((function(e){return 2===(null==e?void 0:e.events)}));z.current&&(clearTimeout(z.current),z.current=null),s&&c&&(z.current=setTimeout((function(){return E((function(e){var n,i;return(null===(i=null===(n=e.user)||void 0===n?void 0:n.channel)||void 0===i?void 0:i.hypeTrain.approaching)?v()(e,(function(e){return e.user.channel.hypeTrain.approaching.eventsRemaining}),(function(e){return!e||e.length<I.P?e:e.filter((function(e){return(null==e?void 0:e.events)!==c.events})).map((function(e){return(null==e?void 0:e.events)!==s.events?e:v()(e,(function(e){return e.secondsRemaining}),(function(){return s.secondsRemaining-c.secondsRemaining}))}))})):e}))}),1e3*c.secondsRemaining))}else z.current&&(clearTimeout(z.current),z.current=null)}),[x,E]);var X=r.useRef(null);return r.useEffect((function(){var e,n,i,a;if(X.current&&(clearTimeout(X.current),X.current=null),(null===(n=null===(e=null==x?void 0:x.user)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.hypeTrain.execution)&&(0,P.$m)(x)){var r=(0,m.differenceInMilliseconds)(null===(a=null===(i=null==x?void 0:x.user)||void 0===i?void 0:i.channel)||void 0===a?void 0:a.hypeTrain.execution.expiresAt,new Date)+15e3;X.current=setTimeout((function(){return E((function(e){var n,i;return(null===(i=null===(n=e.user)||void 0===n?void 0:n.channel)||void 0===i?void 0:i.hypeTrain.execution)?v()(e,(function(e){return e.user.channel.hypeTrain.execution}),(function(e){return(0,t.__assign)((0,t.__assign)({},e),{endedAt:e.expiresAt,endReason:e.progress.level.value>1?y.Yip.COMPLETED:y.Yip.EXPIRED})})):e}))}),r)}}),[x,E]),(0,s.i)((function(){var e,n;clearTimeout(null!==(e=X.current)&&void 0!==e?e:-1),clearTimeout(null!==(n=z.current)&&void 0!==n?n:-1)})),{data:x,loading:D}}({channelLogin:l,channelID:a}),N=c.data,w=c.loading,x=(0,K.z8)({data:N}),D=function(e){var n,i,t,a,o=e.data,l=e.bannerState,d=(0,j.Z)(null!==(i=null===(n=null==o?void 0:o.user)||void 0===n?void 0:n.id)&&void 0!==i?i:null,!0).emoteMap,u=r.useMemo((function(){var e,n,i,t;return null!==(t=null===(i=null===(n=null===(e=null==o?void 0:o.user)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.hypeTrain.execution)||void 0===i?void 0:i.progress.level.value)&&void 0!==t?t:0}),[o]),s=r.useMemo((function(){var e,n,i,t,a,r,d,u,s=void 0;if((0,K.M4)(l)?s=null===(t=null===(i=null===(n=null===(e=null==o?void 0:o.user)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.hypeTrain)||void 0===i?void 0:i.approaching)||void 0===t?void 0:t.potentialRewards:(0,K.o4)(l)&&(s=null===(u=null===(d=null===(r=null===(a=null==o?void 0:o.user)||void 0===a?void 0:a.channel)||void 0===r?void 0:r.hypeTrain)||void 0===d?void 0:d.execution)||void 0===u?void 0:u.config.potentialRewards),s)return s.filter((function(e){var n;return e.value.type===y.Asq.EMOTE&&"HypeTrainEmoteReward"===e.value.__typename&&!!(null===(n=e.value.emote)||void 0===n?void 0:n.id)&&!!e.value.emote.token&&e.value.emote.id!==I.D})).sort((function(e,n){return n.level-e.level}))}),[null===(a=null===(t=null==o?void 0:o.user)||void 0===t?void 0:t.channel)||void 0===a?void 0:a.hypeTrain,l]),c=r.useMemo((function(){var e,n,i=[],t=[];if(!s)return{lockedEmoteRewards:i,earnableEmoteRewards:t};for(var a=0,r=0,o=s;r<o.length;r++){var l=o[r];if(l.level<a)break;"HypeTrainEmoteReward"===l.value.__typename&&(null===(e=l.value.emote)||void 0===e?void 0:e.token)&&(null===(n=l.value.emote)||void 0===n?void 0:n.id)&&(d&&d[l.value.emote.token]||(l.level>=u?i.unshift(l):l.level>=a&&(a=l.level,t.unshift(l))))}return{lockedEmoteRewards:i,earnableEmoteRewards:t}}),[u,d,s]);return c}({data:N,bannerState:x}),E=D.lockedEmoteRewards,Q=D.earnableEmoteRewards,z=(0,q.UD)({bannerState:x,data:N,earnableEmoteRewardsLength:Q.length,lockedEmoteRewardsLength:E.length}),X=z.baselinePanelState,Z=z.pauseBaselinePanelCycle,$=z.resumeBaselinePanelCycle;return{instanceID:d.current,channelID:(null===(i=null===(n=null==N?void 0:N.user)||void 0===n?void 0:n.channel)||void 0===i?void 0:i.id)||null,bannerState:x,data:N,loading:w,lockedEmoteRewards:E,earnableEmoteRewards:Q,channelLogin:l,baselinePanelState:X,pauseBaselinePanelCycle:Z,resumeBaselinePanelCycle:$}}},95159:function(e,n,i){"use strict";i.d(n,{M4:function(){return v},SI:function(){return t},o4:function(){return p},z8:function(){return f}});var t,a=i(727234),r=i(726561),o=i(225745),l=i(917705),d=i(296540),u=i(267924),s=i(74950);!function(e){e.Inactive="INACTIVE",e.Approaching="APPROACHING",e.Kickoff="KICKOFF",e.Starting="STARTING",e.Baseline="BASELINE",e.FastMode="FASTMODE",e.PreLevelUp="PRELEVELUP",e.LevelUp="LEVELUP",e.Ending="ENDING",e.ATHReached="ATHREACHED",e.RewardsDistributing="REWARDS_DISTRIBUTING"}(t||(t={}));var c=new Set([t.Approaching,t.Kickoff]),v=function(e){return c.has(e)},m=new Set([t.Starting,t.Baseline,t.FastMode,t.PreLevelUp,t.LevelUp,t.ATHReached,t.Ending,t.RewardsDistributing]),p=function(e){return m.has(e)},f=function(e){var n,i,c,v,m,p,f,k,h,_=e.data,y=(0,a.Z)(_),S=d.useState((function(){return g(_)})),T=S[0],N=S[1],F=(0,a.Z)(T),w=d.useRef(null),C=d.useRef(null),x=d.useState(!1),b=x[0],D=x[1],R=d.useCallback((function(){if(!_)return t.Inactive;var e=function(e){var n,i,a,r,o,l,d,c,v=null===(i=null===(n=null==y?void 0:y.user)||void 0===n?void 0:n.channel)||void 0===i?void 0:i.hypeTrain.execution,m=null===(r=null===(a=null==_?void 0:_.user)||void 0===a?void 0:a.channel)||void 0===r?void 0:r.hypeTrain.execution;return m?(0,s.$m)(_)?v&&v.progress.level.value<m.progress.level.value&&e!==t.LevelUp?m.isFastMode?t.LevelUp:t.PreLevelUp:!b&&m.progress.allTimeHighState===u.Q8_.REACHED&&(D(!0),v&&e!==t.Starting)?t.ATHReached:m.isFastMode?t.FastMode:t.Baseline:(null===(c=null===(d=null===(l=null===(o=_.user)||void 0===o?void 0:o.channel)||void 0===l?void 0:l.hypeTrain)||void 0===d?void 0:d.execution)||void 0===c?void 0:c.endReason)===u.Yip.COMPLETED?t.Ending:t.Inactive:t.Inactive};switch(T){case t.Inactive:case t.RewardsDistributing:return(0,s.$m)(_)?y?t.Starting:e(T):(0,s.B$)(_)?t.Approaching:t.Inactive;case t.Approaching:return(0,s.$m)(_)?t.Kickoff:(0,s.B$)(_)?t.Approaching:t.Inactive;case t.Starting:case t.Baseline:case t.FastMode:case t.LevelUp:case t.ATHReached:return e(T);case t.Ending:return t.RewardsDistributing;case t.PreLevelUp:return t.LevelUp;case t.Kickoff:return t.Starting;default:return t.Inactive}}),[T,_,y,b]);d.useEffect((function(){var e,n,i,t,a,r;w.current||y===_||N(R()),y!==_&&(null===(i=null===(n=null===(e=null==y?void 0:y.user)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.hypeTrain.execution)||void 0===i?void 0:i.id)!==(null===(r=null===(a=null===(t=null==_?void 0:_.user)||void 0===t?void 0:t.channel)||void 0===a?void 0:a.hypeTrain.execution)||void 0===r?void 0:r.id)&&D(!1)}),[_,y,T,R]);var E=(0,r.F)((function(){N(R()),w.current=null}));return d.useEffect((function(){var e,n,i;if(!w.current&&F!==T){var a=-1;T===t.Kickoff?a=1500:T===t.Starting?a=13020:T===t.PreLevelUp?a=1e3:T===t.LevelUp?a=17050:T===t.Ending?a=(null===(i=null===(n=null===(e=null==_?void 0:_.user)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.hypeTrain.execution)||void 0===i?void 0:i.progress.allTimeHighState)===u.Q8_.REACHED?31005:19005:T===t.RewardsDistributing?a=2e4:T===t.ATHReached&&(a=8505),a>-1&&(w.current=setTimeout((function(){return E.current()}),a))}}),[T,F,E,null===(c=null===(i=null===(n=null==_?void 0:_.user)||void 0===n?void 0:n.channel)||void 0===i?void 0:i.hypeTrain.execution)||void 0===c?void 0:c.progress.allTimeHighState]),d.useEffect((function(){var e,n,i,a,r,o,d,u,s;T===t.Approaching?C.current&&(null===(i=null===(n=null===(e=null==y?void 0:y.user)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.hypeTrain.approaching)||void 0===i?void 0:i.expiresAt)===(null===(o=null===(r=null===(a=null==_?void 0:_.user)||void 0===a?void 0:a.channel)||void 0===r?void 0:r.hypeTrain.approaching)||void 0===o?void 0:o.expiresAt)||(C.current&&(clearTimeout(C.current),C.current=null),!(null===(s=null===(u=null===(d=null==_?void 0:_.user)||void 0===d?void 0:d.channel)||void 0===u?void 0:u.hypeTrain.approaching)||void 0===s?void 0:s.expiresAt)||(0,l.isPast)(_.user.channel.hypeTrain.approaching.expiresAt)?E.current():C.current=setTimeout((function(){return E.current()}),(0,l.differenceInMilliseconds)(_.user.channel.hypeTrain.approaching.expiresAt,new Date))):C.current&&(clearTimeout(C.current),C.current=null)}),[T,null===(p=null===(m=null===(v=null==_?void 0:_.user)||void 0===v?void 0:v.channel)||void 0===m?void 0:m.hypeTrain.approaching)||void 0===p?void 0:p.expiresAt,E,null===(h=null===(k=null===(f=null==y?void 0:y.user)||void 0===f?void 0:f.channel)||void 0===k?void 0:k.hypeTrain.approaching)||void 0===h?void 0:h.expiresAt]),(0,o.i)((function(){var e,n;clearTimeout(null!==(e=w.current)&&void 0!==e?e:-1),clearTimeout(null!==(n=C.current)&&void 0!==n?n:-1)})),T},g=function(e){var n,i,a;if(e){if((0,s.B$)(e))return t.Approaching;if((0,s.$m)(e))return(null===(a=null===(i=null===(n=e.user)||void 0===n?void 0:n.channel)||void 0===i?void 0:i.hypeTrain.execution)||void 0===a?void 0:a.isFastMode)?t.FastMode:t.Baseline}return t.Inactive}},313793:function(e,n,i){"use strict";i.d(n,{D:function(){return a},P:function(){return t}});var t=2,a="80393"},74950:function(e,n,i){"use strict";i.d(n,{$m:function(){return r},B$:function(){return a},Io:function(){return l}});var t=i(950386),a=function(e){var n,i;return(null===(i=null===(n=null==e?void 0:e.user)||void 0===n?void 0:n.channel)||void 0===i?void 0:i.hypeTrain.approaching)&&!o(e.user.channel.hypeTrain.approaching.expiresAt)&&(!e.user.channel.hypeTrain.execution||e.user.channel.hypeTrain.execution.endedAt&&o(e.user.channel.hypeTrain.execution.endedAt))},r=function(e){var n,i;return(null===(i=null===(n=null==e?void 0:e.user)||void 0===n?void 0:n.channel)||void 0===i?void 0:i.hypeTrain.execution)&&!e.user.channel.hypeTrain.execution.endedAt&&!o(e.user.channel.hypeTrain.execution.expiresAt)},o=function(e){return(0,t.Zc)(new Date(e))<=0},l=function(e){return!!e&&("number"==typeof e?e>5:(e.goal||0)>5)}},745277:function(e,n,i){"use strict";i.d(n,{IS:function(){return d},eM:function(){return o},h9:function(){return m},xq:function(){return c}});var t=i(337930),a=i(125959),r="htc_1";function o(){return(0,t.fX)(r)}var l="wrong_phone_resting";function d(){return(0,t.fX)(l)}var u="htc_1",s="variant";function c(){var e=a.x2.experiments.__hardcodedStaleExperiment(u,"variant_with_remaining");return e===s||e===v}var v="variant_with_remaining";function m(){return a.x2.experiments.__hardcodedStaleExperiment(u,"variant_with_remaining")===v}}}]);