!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="590e668b-e5e4-434f-80da-6066c6acfdcf",e._sentryDebugIdIdentifier="sentry-dbid-590e668b-e5e4-434f-80da-6066c6acfdcf")}catch(e){}}(),(self.webpackChunktwitch_twilight=self.webpackChunktwitch_twilight||[]).push([[29356],{532574:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FollowButton_FollowEvent_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryColorHex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t},682286:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Core_Services_Spade_Video"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]}]}}]}}]};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t},222310:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AdFormatTracking_RecordAdEvent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RecordAdEventInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"recordAdEvent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}]};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t},166866:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ClientSideAdEventHandling_RecordAdEvent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RecordAdEventInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"recordAdEvent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}]};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t},451089:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayerBroadcastSettingsUpdate"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BroadcastSettings"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"boxArtURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"85"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"113"}}],directives:[]}]}}]}}]}},594064:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PlayerTrackingContextQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isLive"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"hasCollection"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"hasVideo"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"hasClip"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isStaff"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasTurbo"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isLive"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingBroadcaster"},directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasAdFree"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcasterSoftware"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingGame"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"restriction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exemptions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followedAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"broadcastSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingGame"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"hasCollection"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"200"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingVOD"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingBroadcaster"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"hasVideo"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingVOD"},directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingBroadcaster"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"hasClip"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingBroadcaster"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingGame"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PlayerTrackingVOD"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PlayerTrackingBroadcaster"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PlayerTrackingGame"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Game"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t},953113:function(e,t,n){"use strict";n.d(t,{j8:function(){return s}});var i=n(331635),a=n(296540),r={};function o(e){return r[e]}var s=function(e,t){var n=(0,a.useState)(o(e)),s=n[0],d=n[1];return(0,a.useEffect)((function(){var n=function(t){!function(e,t){r[e].status=t}(e,t),d((0,i.__assign)({},o(e)))},a=function(){return n("loaded")},l=function(){return n("failed")},u=function(){return n("loading")},c=s&&s.element||function(e){var t=document.createElement("script");return t.src=e,r[e]={element:t,status:"preload"},t}(e);return c.addEventListener("load",a),c.addEventListener("error",l),c.addEventListener("loadstart",u),s||(t&&(c=t(c)),n("preload"),document.body.appendChild(c)),function(){c.removeEventListener("load",a),c.removeEventListener("error",l),c.removeEventListener("loadstart",u)}}),[e,s,t]),s}},586122:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var i=n(331635),a=n(474848),r=(n(296540),n(646822));function o(){return function(e){return function(t){var n={fullscreen:(0,r.H)()};return(0,a.jsx)(e,(0,i.__assign)({},n,t))}}}},646822:function(e,t,n){"use strict";n.d(t,{H:function(){return v}});var i=n(581925),a=n.n(i),r=n(296540),o=[];a().onchange=function(){o.forEach((function(e){e()}))};var s=function(e){o.push(e)},d=function(e){o=o.filter((function(t){return t!==e}))},l=function(){return!!a().enabled},u=function(e){return!(!e||!a().videoEnabled(e))},c=function(){return a().element},m=function(e){a().request(e)},p=function(){a().exit()};function v(){return r.useMemo((function(){return{addChangeListener:s,removeChangeListener:d,supported:l,videoSupported:u,element:c,enable:m,disable:p}}),[])}},979205:function(e,t,n){"use strict";function i(e){var t,n,i,a=null!==(t=null==e?void 0:e.game)&&void 0!==t?t:null,r=null!==(i=null===(n=null==e?void 0:e.game_id)||void 0===n?void 0:n.toString())&&void 0!==i?i:null;return{gameID:r,gameName:a,missingGameInfo:null===a||null===r||""===r,updatingToNullGame:""===a||0==+(null!=r?r:"")}}n.d(t,{v:function(){return i}})},536250:function(e,t,n){"use strict";n.d(t,{A:function(){return r},h:function(){return a}});var i=n(125959),a={Black:"black",White:"white",Red:"red",Green:"green",Blue:"blue",Yellow:"yellow",Magenta:"magenta",Cyan:"cyan",LightGray:"lightgray",Gray:"gray",DarkGray:"darkgray",Transparent:"transparent"};function r(e){switch(e){case a.Black:return(0,i.hw)("Black","FormatColorName");case a.White:return(0,i.hw)("White","FormatColorName");case a.Red:return(0,i.hw)("Red","FormatColorName");case a.Green:return(0,i.hw)("Green","FormatColorName");case a.Blue:return(0,i.hw)("Blue","FormatColorName");case a.Yellow:return(0,i.hw)("Yellow","FormatColorName");case a.Magenta:return(0,i.hw)("Magenta","FormatColorName");case a.Cyan:return(0,i.hw)("Cyan","FormatColorName");case a.LightGray:return(0,i.hw)("Light Gray","FormatColorName");case a.Gray:return(0,i.hw)("Gray","FormatColorName");case a.DarkGray:return(0,i.hw)("Dark Gray","FormatColorName");case a.Transparent:return(0,i.hw)("Transparent","FormatColorName");default:return""}}},777952:function(e,t,n){"use strict";n.d(t,{cM:function(){return r},hM:function(){return g},iv:function(){return a},jH:function(){return i}});var i,a,r,o,s=n(331635),d=n(125959),l=n(412914),u=n(929477),c=n(881554),m=n(532574),p=n.n(m),v=n(682286),h=n.n(v);!function(e){e.Channel="channel",e.TheatreMode="theatre_mode",e.Search="search",e.EmotePicker="emote_picker",e.EmoteCard="emote_card",e.ExpressFollow="express_follow",e.ChannelSwitcher="channel_switcher",e.ChatViewerCard="chat_viewer_card",e.Shoutout="shoutout",e.GuestStarProfileCard="guest_profile_card",e.StreamerCard="streamer_card",e.Story="story",e.Stories="stories"}(i||(i={})),function(e){e.Regular="regular",e.Theater="theater"}(a||(a={})),function(e){e.Live="live",e.VOD="vod",e.Clip="clip",e.WatchParty="watch_party"}(r||(r={})),function(e){e.Offline="offline",e.Live="live"}(o||(o={}));var f=function(e){if(e.playSessionID&&e.hasPlayed)return e.playSessionID};function g(e,t){return(0,s.__awaiter)(this,void 0,void 0,(function(){var n,a,r,m,v,g,_,y,k,S,E,w,C,b,D,A,I,N,P,T,R,V;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:if(n=null,a=null,r=null,m=null,v=null,g="",y=void 0,k=void 0,S=void 0,!t.channelID)return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,d.x2.apollo.client.query({query:p(),variables:{id:t.channelID}})];case 2:return m=s.sent(),[3,4];case 3:return E=s.sent(),d.vF.warn("Failed to make query for channel info in FollowEvent reporting.",{err:E,channelID:t.channelID}),[3,4];case 4:(r=m&&m.data&&m.data.user)?(v=r.stream&&r.stream.game&&r.stream.game.name,g=null!==(P=r.primaryColorHex)&&void 0!==P?P:""):d.vF.warn("Query for channel info in FollowEvent reporting returned no data.",{channelID:t.channelID}),s.label=5;case 5:if(!(w=d.E5.getVideoPlayerTrackingData().vodID))return[3,10];s.label=6;case 6:return s.trys.push([6,8,,9]),[4,d.x2.apollo.client.query({query:h(),variables:{id:w}})];case 7:return n=s.sent(),[3,9];case 8:return C=s.sent(),d.vF.warn("Failed to make query for VOD info in FollowEvent reporting.",{err:C,currentVODID:w}),[3,9];case 9:(null==(a=n&&n.data&&n.data.video)?void 0:a.broadcastType)?_=(0,l.E)(a.broadcastType):(_=null,d.vF.warn("Query for video info in FollowEvent reporting return no data.",{currentVODID:w})),s.label=10;case 10:return t.src!==i.TheatreMode&&(b=!!(null===(T=null==r?void 0:r.stream)||void 0===T?void 0:T.id),y=t.content_type,k=function(e){return e?o.Live:o.Offline}(b)),t.src===i.Channel&&(S=t.screen_state),D=d.E5.getVideoPlayerTrackingData(),A=(0,u.Bj)(),(N={location:null!==(V=null===(R=d.E5.getLastPageview())||void 0===R?void 0:R.location)&&void 0!==V?V:"",channel:t.channelLogin,channel_id:t.channelID,channel_game:v,cta_visible:D.followCTAVisible,game:t.game,partner:r?r.isPartner:null,primary_color_hex:g,src:t.src,vod_id:w,vod_type:_,screen_state:S,content_type:y,channel_state:k,page_session_id:d.x2.session.pageviewID,play_session_id:f(D)})[c.oK]=A[c.oK],I=N,d.E5.track(e,I),[2]}}))}))}},876275:function(e,t,n){"use strict";n.d(t,{hJ:function(){return i},uS:function(){return A}});var i,a=n(331635),r=n(474848),o=n(826094),s=n(882439),d=n(296540),l=n(415044),u=n(125959),c=n(191132),m=n(877338),p=n(105146),v=n(131883),h=n(128633),f=n(518658),g=n(485272),_=n(441519),y=n(945869),k=n(532896),S=n(44377),E=n(726280);!function(e){e.Amazon="AAX"}(i||(i={}));var w=(0,c.U)({name:"AdSlot",category:"monetization"}),C=w.Available,b=w.Unavailable,D=function(e){function t(t){var n=e.call(this,t)||this;return n.logger=u.vF.withCategory("ad-slot"),n.adSessionId=(0,p.k3)(),n.originParams=s.parse(window.location.search),n.containTagFilters=n.originParams.tl||window.location.pathname.includes("directory/tags")||window.location.pathname.includes("directory/all/tags"),n.createSlot=function(e,t){return(0,a.__awaiter)(n,void 0,void 0,(function(){var n,r,s,d,l,c,m,h,w,C,b,D,A,I,N,P=this;return(0,a.__generator)(this,(function(T){switch(T.label){case 0:if(this.state.slotCreated&&!t)return[2];this.setState({slotCreated:!0}),T.label=1;case 1:if(T.trys.push([1,4,,5]),""===(n=(0,g.TN)(e.slotID)))throw"invalid bda placement";return r=n===S.A3.HEADLINER,s=(0,p.yr)(32),d=new Date,123,l=(0,v.wz)(u.x2.store.getState()),c={sdk:i.Amazon,tagParams:{platform:"web"},adFormat:n,sessionID:this.adSessionId,duration:123,twitchCorrelator:s,roll:E.d.Mid,game:null===(I=e.targeting)||void 0===I?void 0:I.game,status:status,requestTime:123,targetingTag:null===(N=e.targeting)||void 0===N?void 0:N.tag,userId:null==l?void 0:l.id},m=c,h=(0,k.L9)(new _.C,m),w=function(t,n){var r;return u.E5.track(t,(0,a.__assign)((0,a.__assign)({},n||{}),{ad_session_id:m.sessionID,requested_ad_size:JSON.stringify(e.adSize),ad_placement:e.slotID,allocation_strategy:e.slotID,date:d.toDateString(),browser:navigator.userAgent,game:null===(r=e.targeting)||void 0===r?void 0:r.game,sdk:i.Amazon,emitting_service:"AdvantEdge",twitch_correlator:s,stitched:!1,pbyp_visible:!1,is_mafs:!!m.mafsDecision,format_name:S.gz.BROWSE_DISPLAY}))},[4,f.F.requestAd(h,w)];case 2:if(C=T.sent(),(0,y.Jp)(C))throw new Error("response is not a display bid");return b=C.resp,[4,f.F.renderCreative(b,this.iframeRef,w,r,e.slotID)];case 3:return T.sent(),this.setState({shouldDisplay:!0,dsaContext:(0,g.A9)(b,this.props.slotID,this.adSessionId)},(function(){P.props.onDisplay&&P.props.onDisplay()})),[3,5];case 4:return D=T.sent(),this.logger.warn("Unable to create ad slot",{slotID:e.slotID,adUnit:e.adUnit,adSize:e.adSize,targeting:e.targeting,autoEnable:e.autoEnable}),(A=(0,o.d)(D)).includes("error")&&this.setState({slotError:{error:!0,message:A}}),[3,5];case 5:return[2]}}))}))},n.setIFrameRef=function(e){return n.iframeRef=e},n.renderDSAButton=function(e){return(0,r.jsx)(h.V,{dsaContext:n.state.dsaContext,format:e})},n.state={dsaContext:{adInput:{advertiserIDNS:"",campaignIDNS:""},clientInput:{},countryInfo:{geoCode:null,isFromEU:!1}},shouldDisplay:!1},n}return(0,a.__extends)(t,e),t.prototype.componentDidMount=function(){u.E5.track("ad_request_opportunity",{ad_placement:this.props.slotID,ad_session_id:this.adSessionId,requested_format:JSON.stringify([S.gz.BROWSE_DISPLAY]),sdk:i.Amazon}),this.props.trackingSet?(this.logger.debug("Tracking is set. Creating slot (componentDidMount)",this.props.slotID),this.containTagFilters||this.createSlot(this.props)):this.logger.debug("Tracking is not set. Skipping slot creation (componentDidMount)",this.props.slotID)},t.prototype.componentDidUpdate=function(e){var t=!this.state.slotCreated&&!this.containTagFilters,n=!this.state.slotCreated&&"string"==typeof this.props.targeting.tag&&"string"==typeof e.targeting.tag&&e.targeting.tag!==this.props.targeting.tag;this.state.slotCreated&&!n||(this.props.trackingSet&&(e.trackingSet!==this.props.trackingSet&&t||n)?(this.logger.debug("Tracking is set. Creating slot (componentDidUpdate)",this.props.slotID),this.createSlot(this.props,n)):this.logger.debug("Tracking is not set. Skipping slot creation (componentDidUpdate)",this.props.slotID))},t.prototype.render=function(){var e;if(null===(e=this.state.slotError)||void 0===e?void 0:e.error)return(0,r.jsx)(b,{reason:this.state.slotError.message});var t=(0,a.__assign)({},this.props.injectStyles);this.state.shouldDisplay||(t.display="none");var n={height:"100%",width:"100%"},i=(0,u.hw)("Display Ad","AdSlot");return(0,r.jsx)(C,{children:(0,r.jsx)("div",(0,a.__assign)({style:t,id:this.props.slotID},(0,m.F)(this.props),{children:"headliner"===this.props.slotID?(0,r.jsxs)(r.Fragment,{children:[this.renderDSAButton(this.props.slotID),(0,r.jsx)("iframe",{title:i,style:n,ref:this.setIFrameRef,scrolling:"no",marginHeight:0,marginWidth:0})]}):(0,r.jsxs)("div",{style:{position:"relative",width:"fit-content",margin:"auto"},children:[this.renderDSAButton(this.props.slotID),(0,r.jsx)("iframe",{title:i,style:n,ref:this.setIFrameRef,scrolling:"no",marginHeight:0,marginWidth:0})]})}))})},t}(d.Component);var A=(0,l.Ng)((function(e){return{trackingSet:e.ads.trackingSet}}),null)(D)},128633:function(e,t,n){"use strict";n.d(t,{V:function(){return d}});var i=n(331635),a=n(474848),r=(n(296540),n(407827)),o=n(961420),s=r.x.wrap((function(){return n.e(20956).then(n.bind(n,281176))}),"DSAButton",{failSilently:!0,placeholder:null}),d=function(e){return(0,o.QN)((function(e){return e.session.firstPageLoaded}))?(0,a.jsx)(s,(0,i.__assign)({},e)):null}},518658:function(e,t,n){"use strict";n.d(t,{F:function(){return f},q:function(){return p}});var i=n(331635),a=n(826094),r=n(882439),o=n(125959),s=n(105146),d=n(876275),l=n(485272),u=n(945869),c=n(543256),m=n(44377),p={XML:"XML",JSON:"JSON"},v=/[^A-Za-z0-9]+/g,h=o.x2.logger.withCategory("OutstreamAds"),f=function(){function e(){}return e.isInitialized=function(){return this.isReady},e.startProcessingRequests=function(){this.isReady=!0,this.processDeferredCmds()},e.setAppWideTracking=function(e,t){this.appWideTracking[e]=this.normalizeTargetingValue(t)},e.clearAppWideTracking=function(e){delete this.appWideTracking[e]},e.decline=function(e,t){void 0===t&&(t={sendEvent:!0}),this.declineReason||(t.sendEvent&&o.E5.track("ad_sdk_declined",{sdk:d.hJ.Amazon,sdk_decline_reason:e}),this.declineReason=e,this.processDeferredCmds())},e.requestAd=function(e,t,n){var r=this,o=this.augmentRequest(e).buildAdTagURL();return new Promise((function(e,s){r.deferredCmd({fn:function(){var d=Date.now();t("ad_edge_request",{}),fetch(o,{method:"GET",credentials:"include"}).then((function(n){return(0,i.__awaiter)(r,void 0,void 0,(function(){var a,r,o,s,l,v,h;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return 204!==n.status?[3,1]:(t("ad_edge_request_response",{available_impressions:0,request_duration:Date.now()-d}),t("ad_csai_served_impressions",{available_impressions:0}),e({}),[3,10]);case 1:return 200!==n.status?[3,8]:[4,n.headers.get("Content-Type")];case 2:return"application/json"!==(a=i.sent())?[3,4]:[4,n.json()];case 3:if(r=i.sent(),!this.validateAdEdgeDisplayBid(r))throw new Error("Invalid ad edge display bid response");return(0,c.df)(r.width,r.height)&&(t("ad_request_response_drop",{reason:"skyscraper kill switch on"}),e({})),t("ad_edge_request_response",{ad_size:"".concat(r.width,"x").concat(r.height),available_impressions:r.creativeHtml?1:0,format_name:(0,u.r0)(r.returnedAdFormat),sub_format_name:(0,u.Fn)(r.returnedAdFormat,r.height,r.width),request_duration:Date.now()-d}),t("ad_csai_bid_parse_success",{ad_size:"".concat(r.width,"x").concat(r.height),available_impressions:r.creativeHtml?1:0,format_name:(0,u.r0)(r.returnedAdFormat),sub_format_name:(0,u.Fn)(r.returnedAdFormat,r.height,r.width)}),e({type:p.JSON,resp:r}),t("ad_csai_served_impressions",{ad_size:"".concat(r.width,"x").concat(r.height),available_impressions:r.creativeHtml?1:0,format_name:(0,u.r0)(r.returnedAdFormat),sub_format_name:(0,u.Fn)(r.returnedAdFormat,r.height,r.width)}),[3,7];case 4:return"application/xml"!==a?[3,6]:(s=this.parseXML,[4,n.text()]);case 5:return o=s.apply(this,[i.sent()]),t("ad_edge_request_response",{request_duration:Date.now()-d,format_name:(0,u.r0)(m.Z$.OUTSTREAM_VERTICAL_VIDEO)}),e({type:p.XML,resp:o}),[3,7];case 6:throw new Error("Invalid ad edge response content type");case 7:return[3,10];case 8:return l=Error.bind,h=(v="Status ".concat(n.status," ")).concat,[4,n.text()];case 9:throw new(l.apply(Error,[void 0,h.apply(v,[i.sent()])]));case 10:return[2]}}))}))})).catch((function(e){var i=Date.now()-d;null==n||n(i);var r=(0,a.d)(e,{useRawMessage:!0});t("ad_edge_request_error",{error_code:r,request_duration:i}),t("ad_csai_bid_parse_error",{error:r,available_impression:0}),s(r)}))},decline:function(e){t("ad_request_format_declined",{reason:JSON.stringify([e])}),s("Request declined for reason ".concat(e))}})}))},e.renderCreative=function(e,t,n,a,r,o){return new Promise((function(d,l){if(t.id=(0,s.k3)(),t.frameBorder="0",t.marginHeight="0",t.marginWidth="0",t.style.marginTop="0",t.style.marginLeft="0",t.scrolling="no",a?(t.style.width="100%",t.style.height="100%"):(t.style.width="".concat(e.width,"px"),t.style.height="".concat(e.height,"px")),t.setAttribute("sandbox","allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-scripts"),t.onload=function(){d()},t.onerror=function(a){n("ad_error",(0,i.__assign)((0,i.__assign)({},o||{}),{ad_size:"".concat(e.width,"x").concat(e.height),impression_id:t.id,error_code:a,format_name:(0,u.r0)(e.returnedAdFormat)})),l(a)},e.imp){var c=new Image;c.addEventListener("error",(function(){h.debug("Error firing impression to AAX",e.imp)})),c.src=e.imp,n("ad_impression",(0,i.__assign)((0,i.__assign)({},o||{}),{impression_id:t.id,ad_size:"".concat(e.width,"x").concat(e.height),format_name:(0,u.r0)(e.returnedAdFormat),sub_format_name:(0,u.Fn)(e.returnedAdFormat,e.height,e.width),ad_id:e.adId,tas_line_item_id:e.adId,tas_creative_id:e.creativeCfId})),n("ad_client_impression",{ad_size:"".concat(e.width,"x").concat(e.height),format_name:(0,u.r0)(e.returnedAdFormat),creative_id:t.id,advertiser_id:e.adv,pbyp_visible:!1,pbyp_play_session_id:void 0,emitting_service:"AdvantEdge",allocation_strategy:r,available_impressions:e.creativeHtml?1:0,sub_format_name:(0,u.Fn)(e.returnedAdFormat,e.height,e.width),ad_id:e.adId,tas_line_item_id:e.adId,tas_creative_id:e.creativeCfId})}else e.isPreview||l("impression url empty in non-preview bid");t.srcdoc=e.creativeHtml}))},e.reset=function(){this.isReady=!1,this.appWideTracking={},this.deferredCmds=[],this.declineReason=null},e.validateAdEdgeDisplayBid=function(e){return e.creativeHtml&&e.width&&e.height},e.deferredCmd=function(e){this.declineReason?e.decline(this.declineReason):this.isReady?e.fn():this.deferredCmds.push(e)},e.processDeferredCmds=function(){for(;this.deferredCmds.length>0;){var e=this.deferredCmds.shift();e&&(this.declineReason?e.decline(this.declineReason):this.isReady&&e.fn())}},e.normalizeTargetingValue=function(e){var t=function(e){return e.toString().replace(v,"_").toLowerCase()};return Array.isArray(e)?e.map(t):t(e)},e.augmentRequest=function(e){this.appWideTracking.campaign&&e.withCampaign(this.appWideTracking.campaign.toString());var t=r.parse(window.location.search),n=Number(t.amzpvw);if((t.force_lower_third_display||t.force_squeezeback_display||t.force_headliner_display||t.force_banner_display)&&e.withForceRender(),t.amzpvw&&Number.isInteger(n)&&n>0&&t.previewSize&&(0,l.UK)(t.previewSize.toString())){var i="";t.env&&t.env.toString()&&(i=t.env.toString()),e.withPreview(t.amzpvw.toString(),t.previewSize.toString(),i)}return e},e.parseXML=function(e){return(new DOMParser).parseFromString(e,"application/xml")},e.isReady=!1,e.appWideTracking={},e.deferredCmds=[],e}()},929477:function(e,t,n){"use strict";n.d(t,{Bj:function(){return d},aI:function(){return s},eh:function(){return o}});var i=n(331635),a=n(125959),r=n(881554);function o(e){var t=s();return null===t?e:(0,i.__assign)((0,i.__assign)({},e),t)}function s(){var e=a.x2.router.state.location.state;return e&&"search"===e.medium?(0,i.__assign)((0,i.__assign)({},d()),{medium:e.medium,content:e.content}):null}function d(){var e,t=a.x2.router.state.location.state;return(e={})[r.I6]=t&&t[r.I6],e[r.oK]=t&&t[r.oK],e[r.f7]=t&&t[r.f7],e.previous_search_query_id=t&&t.previous_search_query_id,e}},441519:function(e,t,n){"use strict";n.d(t,{C:function(){return o}});var i=n(125959),a=n(518387),r={PREROLL:"preroll",MIDROLL:"midroll",POSTROLL:"postroll"},o=function(){function e(){this.logger=i.x2.logger.withCategory("AdRequestBuilder"),this.baseDomain=a.x6,this.bidPath=a.ww,this.pageLoadId="".concat(Math.round(1e12*Math.random())).concat(Date.now()),this.cacheBuster=Math.round(1e7*Math.random()).toString(),this.breakPositions=r}return e.prototype.withReturnType=function(e){if(-1===a.le.indexOf(e)){var t=JSON.stringify(a.le);throw new Error("Invalid return type: ".concat(e,". Valid values are: ").concat(t))}return this.returnType=e,this},e.prototype.withAdFormat=function(e){return this.adFormat=e,this.baseDomain=a.VS,this.bidPath=a.we,this},e.prototype.withDuration=function(e){return e>a.iB&&(e/=1e3,this.logger.debug("Duration value was adjusted from milliseconds to seconds : ".concat(e))),e>0&&e<a.wl&&(this.logger.warn("Invalid Duration value ".concat(e," overriden to ").concat(a.jI)),e=a.jI),this.duration=e,this},e.prototype.withIPAddress=function(e){return this.ip=e,this},e.prototype.withGeocode=function(e){return this.countryCode=e,this},e.prototype.withDeviceCategory=function(e){return this.deviceCategory=e,this},e.prototype.withDeviceID=function(e){return this.deviceId=e,this},e.prototype.withDevicePlatform=function(e){return this.devicePlatform=e,this},e.prototype.withDeviceType=function(e){return this.deviceType=e,this},e.prototype.withBndl=function(e){return this.bndl=e,this},e.prototype.withApp=function(e){return this.app=e,this},e.prototype.withOS=function(e){return this.os=e,this},e.prototype.withDoNotTrack=function(e){return this.doNotTrack=e?"1":"0",this},e.prototype.withUserAgent=function(e){return this.userAgent=e,this},e.prototype.withPageLoadID=function(e){return this.pageLoadId=e,this},e.prototype.withCacheBuster=function(e){return this.cacheBuster=e,this},e.prototype.withAdCacheBypassed=function(){return this.bypassCache=!0,this},e.prototype.withCurrentWindowSize=function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,n="".concat(e,"x").concat(t);return this.withWindowSize(n)},e.prototype.withWindowSize=function(e){return this.windowSize=e,this},e.prototype.withURL=function(e){return this.url=e,this},e.prototype.withSlot=function(e){return this.slots=this.slots||[],this.slots.push(e),this},e.prototype.withKeyValuePair=function(e,t){return this.keyValuePairs=this.keyValuePairs||{},this.keyValuePairs[e]="".concat(t),this},e.prototype.withRawPageReferrer=function(e){return this.referrerUrl=e,this},e.prototype.withGDPRL=function(e){return null===e&&this.logger.warn("Request Builder : gdprl value cannot be null"),this.gdprl=e,this},e.prototype.withPublisherExtendedID=function(e){return this.publisherExtendedId=e,this},e.prototype.withPublisherExtendedSource=function(e){return this.publisherExtendedSource=e,this},e.prototype.withPublisherID=function(e){return this.publisherId=e,this},e.prototype.withPublisherName=function(e){return this.publisherName=e,this},e.prototype.withProducerID=function(e){return this.producerId=e,this},e.prototype.withProducerName=function(e){return this.producerName=e,this},e.prototype.withS3TestMode=function(){return this.baseDomain="https://d2v02itv0y9u9t.cloudfront.net",this.bidPath="test/testvast.xml",this},e.prototype.withBreakPosition=function(e){return this.breakPosition=e,this},e.prototype.withRating=function(e){return this.rating=e,this},e.prototype.withCustomerID=function(e){return this.customerId=e,this},e.prototype.withDomain=function(e){return this.baseDomain=e,this},e.prototype.withCategoryId=function(e){return this.categoryId=e,this},e.prototype.withCategoryName=function(e){return this.categoryName=e,this},e.prototype.withChannelId=function(e){return this.channelId=e,this},e.prototype.withChannelName=function(e){return this.channelName=e,this},e.prototype.withChannelType=function(e){return this.channelType=e,this},e.prototype.withCommercialId=function(e){return this.commercialId=e,this},e.prototype.withContentLabels=function(e){return this.contentLabels=e,this},e.prototype.withMAFSDecision=function(e){return this.mafsDecision=e,this.baseDomain=a.VS,this.bidPath=a.G1,this},e.prototype.withIsMature=function(e){return this.isMature=e,this},e.prototype.withPlatform=function(e){return this.platform=e,this},e.prototype.withRadsToken=function(e){return this.radsToken=e,this},e.prototype.withAdSessionId=function(e){return this.adSessionId=e,this},e.prototype.withTags=function(e){return this.tags=e,this},e.prototype.withTwitchCorrelator=function(e){return this.twitchCorrelator=e,this},e.prototype.withUserId=function(e){return this.userId=e,this},e.prototype.withVodType=function(e){return this.vodType=e,this},e.prototype.withBroadcastType=function(e){return this.broadcastType=e,this},e.prototype.withAdvertisingID=function(e){return this.advertisingID=e,this},e.prototype.withV6SSdkVersion=function(e){return this.v6sSdkVersion=e,this},e.prototype.withCampaign=function(e){return this.campaign=e,this},e.prototype.withPreview=function(e,t,n){return this.previewCreativeId=e,this.previewCreativeSize=t,a.AG.has(n)&&(this.env=n),this},e.prototype.withSequenceNumber=function(e){return this.seqNumber=e,this},e.prototype.withMaxSequence=function(e){return this.maxSequence=e,this},e.prototype.withBlockedCategories=function(e){return this.blockedCategories=e,this},e.prototype.withBlockedAdvertisers=function(e){return this.blockedAdvertisers=e,this},e.prototype.withBlockedCreatives=function(e){return this.blockedCreatives=e,this},e.prototype.withForceRender=function(){return this.forceRender=!0,this},e.prototype.withDeclinedFormats=function(e){return this.declinedFormats=e,this},e.prototype.buildAdTagURL=function(){this.validateRequest(),this.logger.debug("Parameters passed validation");var e={};this.addParam(e,a.f0.CUSTOMER_ID,this.customerId),this.addParam(e,a.f0.RETURN_TYPE,this.returnType),this.addParam(e,a.f0.DURATION,this.duration),this.addParam(e,a.f0.IP,this.ip),this.addParam(e,a.f0.GEOCODE,this.countryCode),this.addParam(e,a.f0.DEVICE_CATEGORY,this.deviceCategory),this.addParam(e,a.f0.DEVICE_ID,this.deviceId),this.addParam(e,a.f0.DEVICE_PLATFORM,this.devicePlatform),this.addParam(e,a.f0.DEVICE_TYPE,this.deviceType),this.addParam(e,a.f0.OS,this.os),this.addParam(e,a.f0.BNDL,this.bndl),this.addParam(e,a.f0.APP,this.app),this.addParam(e,a.f0.AD_FORMAT,this.adFormat),this.addParam(e,a.f0.DO_NOT_TRACK,this.doNotTrack),this.addParam(e,a.f0.USER_AGENT,this.userAgent),this.addParam(e,a.f0.PAGE_LOAD_ID,this.pageLoadId),this.addParam(e,a.f0.CACHE_BUSTER,this.cacheBuster),this.bypassCache&&this.addParam(e,a.f0.BYPASS_CACHE,"true"),this.addParam(e,a.f0.WINDOW_SIZE,this.windowSize),this.addParam(e,a.f0.URL,this.url),this.addParam(e,a.f0.SLOTS,JSON.stringify(this.slots)),this.addParam(e,a.f0.KEY_VALUES,JSON.stringify(this.keyValuePairs)),this.addParam(e,a.f0.RAW_PAGE_REFERRER,this.referrerUrl),this.gdprEnabled&&this.addParam(e,a.f0.GDPR_ENABLED,"1"),this.addParam(e,a.f0.GDPR_CONSENT,this.gdprConsent),this.addParam(e,a.f0.GDPRL,JSON.stringify(this.gdprl)),this.addParam(e,a.f0.PRODUCER_ID,this.producerId),this.addParam(e,a.f0.PRODUCER_NAME,this.producerName),this.addParam(e,a.f0.PUBLISHER_ID,this.publisherId),this.addParam(e,a.f0.PUBLISHER_NAME,this.publisherName),this.addParam(e,a.f0.BREAK_POSITION,this.breakPosition),this.addParam(e,a.f0.RATING,this.rating),this.addParam(e,a.f0.ADVERTISING_ID,this.advertisingID),this.addParam(e,a.f0.CATEGORY_NAME,this.categoryName),this.addParam(e,a.f0.CATEGORY_ID,this.categoryId),this.addParam(e,a.f0.CHANNEL_ID,this.channelId),this.addParam(e,a.f0.CHANNEL_NAME,this.channelName),this.addParam(e,a.f0.CHANNEL_TYPE,this.channelType),this.addParam(e,a.f0.COMMERCIAL_ID,this.commercialId),this.addParam(e,a.f0.CONTENT_LABELS,this.contentLabels),this.addParam(e,a.f0.MAFS_DECISION,this.mafsDecision),this.addParam(e,a.f0.IS_MATURE,this.isMature),this.addParam(e,a.f0.PLATFORM,this.platform),this.addParam(e,a.f0.RADS_TOKEN,this.radsToken),this.addParam(e,a.f0.AD_SESSION_ID,this.adSessionId),this.addParam(e,a.f0.TAGS,this.tags),this.addParam(e,a.f0.BLOCKED_ADVERTISERS,this.blockedAdvertisers),this.addParam(e,a.f0.BLOCKED_CATEGORIES,this.blockedCategories),this.addParam(e,a.f0.BLOCKED_CREATIVES,this.blockedCreatives),this.addParam(e,a.f0.MAX_SEQUENCE,this.maxSequence),this.addParam(e,a.f0.SEQUENCE_NUMBER,this.seqNumber),this.addParam(e,a.f0.TWITCH_CORRELATOR,this.twitchCorrelator),this.addParam(e,a.f0.USER_ID,this.userId),this.addParam(e,a.f0.VOD_TYPE,this.vodType),this.addParam(e,a.f0.BROADCAST_TYPE,this.broadcastType),this.addParam(e,a.f0.PUBLISHER_EXTENDED_ID,this.publisherExtendedId),this.addParam(e,a.f0.PUBLISHER_EXTENDED_SOURCE,this.publisherExtendedSource),this.v6sSdkVersion&&this.addParam(e,a.f0.SDK_VERSION,"".concat(a.p2,"-").concat(this.v6sSdkVersion)),this.addParam(e,a.f0.CAMPAIGN,this.campaign),this.previewCreativeId&&this.previewCreativeSize&&(this.addParam(e,a.f0.PREVIEW_CREATIVE_ID,this.previewCreativeId),this.addParam(e,a.f0.PREVIEW_SIZE,this.previewCreativeSize),this.env&&this.addParam(e,a.f0.ENVIRONMENT_ID,this.env)),this.forceRender&&this.addParam(e,a.f0.FORCE_RENDER,this.forceRender),this.addParam(e,a.f0.DECLINED_FORMATS,JSON.stringify(this.declinedFormats)),this.logger.debug("Request query parameters compiled",e);var t=this.stringifyQueryParameters(e),n=this.buildBidUrl()+t;return this.logger.debug("Request url built",n),n},e.prototype.buildBidUrl=function(){return this.baseURL?this.baseURL:"".concat(this.baseDomain+this.bidPath,"?")},e.prototype.stringifyQueryParameters=function(e){return Object.entries(e).map((function(e,t){var n=e[0],i=e[1];return"".concat(n,"=").concat(encodeURIComponent(i))})).join("&")},e.prototype.validateRequest=function(){this.validateRequiredField("Duration",this.duration),this.validateRequiredField("Geocode",this.countryCode),this.validateRequiredField("URL",this.url),this.validateRequiredField("Publisher ID",this.publisherId),this.validateDomain(),this.validateRangeField("Duration",this.duration,a.wl,a.iB)},e.prototype.validateDomain=function(){var e;try{e=new URL(this.baseDomain)}catch(e){throw new Error("Invalid url provided for Domain")}this.baseDomain=e.origin},e.prototype.validateRequiredField=function(e,t){if(null==t)throw new Error("Missing required field: ".concat(e))},e.prototype.validateRangeField=function(e,t,n,i){if(t<n||t>i)throw new Error("Invalid value for ".concat(e,". Valid Range is [").concat(n,", ").concat(i,"]"))},e.prototype.addParam=function(e,t,n){n&&(e[t]=n)},e}()},518387:function(e,t,n){"use strict";n.d(t,{AG:function(){return p},G1:function(){return o},VS:function(){return a},f0:function(){return i},iB:function(){return c},jI:function(){return m},le:function(){return v},p2:function(){return l},we:function(){return s},wl:function(){return u},ww:function(){return d},x6:function(){return r}});var i,a="https://edge.ads.twitch.tv",r="https://vaes.amazon-adsystem.com",o="/ads",s="/ads/format",d="/2018-01-01/3p/ads",l="V6SJavaScriptSDK",u=4,c=3600,m=30,p=new Set(["beta","gamma","prod"]),v=["vast2","vast3","json"];!function(e){e.AD_FORMAT="afmt",e.AD_SESSION_ID="sid",e.ADVERTISING_ID="aid",e.APP="app",e.BLOCKED_ADVERTISERS="badvs",e.BLOCKED_CATEGORIES="bcats",e.BLOCKED_CREATIVES="bcrids",e.BNDL="bndl",e.BREAK_POSITION="bp",e.BROADCAST_TYPE="btype",e.BYPASS_CACHE="bypassCache",e.CACHE_BUSTER="cb",e.CAMPAIGN="campaign",e.CATEGORY_ID="catid",e.CATEGORY_NAME="cat",e.CHANNEL_ID="chanid",e.CHANNEL_NAME="chan",e.CHANNEL_TYPE="chantype",e.COMMERCIAL_ID="commid",e.CONTENT_LABELS="content_labels",e.CUSTOMER_ID="cid",e.DECLINED_FORMATS="dfmts",e.DEVICE_CATEGORY="dcat",e.DEVICE_ID="did",e.DEVICE_PLATFORM="dplat",e.DEVICE_TYPE="dt",e.DO_NOT_TRACK="dnt",e.DURATION="dur",e.ENVIRONMENT_ID="env",e.FORCE_RENDER="isForcedRender",e.GDPR_CONSENT="gdprc",e.GDPR_ENABLED="gdpre",e.GDPRL="gdprl",e.GEOCODE="geoc",e.IP="ip",e.IS_MATURE="mat",e.KEY_VALUES="pj",e.MAFS_DECISION="mafs",e.MAX_SEQUENCE="mseq",e.OS="os",e.PAGE_LOAD_ID="pid",e.PLATFORM="plat",e.PREVIEW_CREATIVE_ID="pcid",e.PREVIEW_SIZE="psize",e.PRODUCER_ID="pdid",e.PRODUCER_NAME="pdcn",e.PUBLISHER_EXTENDED_ID="pext_id",e.PUBLISHER_EXTENDED_SOURCE="pext_id_source",e.PUBLISHER_ID="pbid",e.PUBLISHER_NAME="pbn",e.RADS_TOKEN="rtok",e.RATING="rating",e.RAW_PAGE_REFERRER="pr",e.RETURN_TYPE="rt",e.SDK_VERSION="sdkv",e.SEQUENCE_NUMBER="sdaseq",e.SLOTS="slots",e.TAGS="tags",e.TWITCH_CORRELATOR="tcor",e.URL="u",e.USER_AGENT="uagent",e.USER_ID="uid",e.VOD_TYPE="vtype",e.WINDOW_SIZE="ws"}(i||(i={}))},945869:function(e,t,n){"use strict";n.d(t,{Fn:function(){return d},Jp:function(){return u},V4:function(){return l},r0:function(){return s},zB:function(){return o}});var i=n(518658),a=n(485272),r=n(44377);function o(e){return e===r.Z$.SQUEEZEBACK?{slotId:a.iN.stream.squeezeback,size:a.ot.stream.squeezeback}:{slotId:a.iN.stream.lowerthird,size:a.ot.stream.lowerthird}}function s(e){return e===r.Z$.LOWER_THIRD?"LOWER_THIRD":e===r.Z$.SQUEEZEBACK?"SQUEEZEBACK":e===r.Z$.OUTSTREAM_VERTICAL_VIDEO?"OUTSTREAM_VERTICAL_VIDEO":e===r.Z$.STANDARD_AUDIO?"STANDARD_AUDIO":"STANDARD_VIDEO"}function d(e,t,n){return e===r.Z$.LOWER_THIRD?"LOWER_THIRD":e===r.Z$.SQUEEZEBACK&&600===t&&160===n?"SKYSCRAPER":e===r.Z$.SQUEEZEBACK&&(1050===t&&300===n||1050===t&&276===n)?"MIRROR-C":null}function l(e,t,n){return{adFormat:e.adFormat,adSessionId:e.sessionID,stitched:!1,status:"ready",duration:e.duration,adPosition:0,numberOfAds:1,roll:e.roll,start:0,isVLM:!!e.isVLM,trackingParams:n,bid:t}}var u=function(e){return e.type===i.q.XML}},532896:function(e,t,n){"use strict";n.d(t,{L9:function(){return h},ff:function(){return y}});var i=n(331635),a=n(125959),r=n(345029),o=n(323587),s=n(691111),d=n(960052),l=n(44377),u=n(648101),c=n(76231),m=n(118483),p="csai",v="publisher_ext_ids";function h(e,t){var n,d,l,u,h,k,S,E,w,C=window.navigator.userAgent,b=y(t.adFormat.toString());if(e.withURL(window.location.href).withDuration(t.duration).withGeocode((0,r.If)()||"US").withGDPRL({status:"no-cmp"}).withCurrentWindowSize().withBreakPosition(t.roll).withRawPageReferrer(t.tagParams.embedUrl||"").withPublisherID("twitch"),(0,o.e5)()&&e.withGDPRL({status:"cmp"}),t.mafsDecision&&(e=e.withMAFSDecision(t.mafsDecision).withCategoryId((null===(n=t.game)||void 0===n?void 0:n.id)||"").withCategoryName((null===(d=t.game)||void 0===d?void 0:d.name)||"").withChannelName((null===(l=t.broadcaster)||void 0===l?void 0:l.login)||"").withChannelId((null===(u=t.broadcaster)||void 0===u?void 0:u.id)||"").withChannelType(_(t.broadcaster)).withIsMature(!!(null===(k=null===(h=t.broadcaster)||void 0===h?void 0:h.broadcastSettings)||void 0===k?void 0:k.isMature)).withPlatform("web").withRadsToken(t.radsToken||"").withTags(f(t)).withTwitchCorrelator(t.twitchCorrelator).withUserId((null===(S=t.currentUser)||void 0===S?void 0:S.id)||"").withCustomerID((null===(E=t.currentUser)||void 0===E?void 0:E.id)||"").withCommercialId(t.commercialID||"").withVodType((0,m.DG)(t.content)?"live":"").withBroadcastType((null===(w=t.video)||void 0===w?void 0:w.broadcastType)||"").withAdvertisingID(a.x2.session.deviceID).withDeviceID(a.x2.session.deviceID).withAdSessionId(t.sessionID).withDeviceType((0,c.h)(C)).withContentLabels(g(t.video))),b&&(e=e.withTags(t.targetingTag).withAdFormat(t.adFormat.toString()).withCommercialId(t.commercialID||"").withPlatform("web").withRadsToken(t.radsToken||"").withTwitchCorrelator(t.twitchCorrelator).withAdvertisingID(a.x2.session.deviceID).withDeviceID(a.x2.session.deviceID).withAdSessionId(t.sessionID).withDeviceType((0,c.h)(C)).withCategoryName(t.game).withUserId(t.userId||"")),a.x2.experiments.__hardcodedStaleExperiment(v,"treatment")===s.eY.Treatment&&!b){var D=(0,c.h)(C);e=3===D&&null===t.currentUser?e.withDeviceType(D).withPublisherExtendedID(a.x2.session.deviceID).withPublisherExtendedSource("twitch"):e.withDeviceType(D)}var A=(0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)({},t.tagParams),{delivery_type:p,vb:null,adunit:"web_".concat(p)}),!b&&t&&{loggedin:!!t.currentUser,v:t.video&&t.video.broadcastType||void 0,vod_type:(0,m.DG)(t.content)?"live":void 0,embed_url:t.tagParams.embedUrl||null,game_id:t.game&&t.game.id}),b&&t&&{game:t.game});return Object.keys(A).forEach((function(t){e=e.withKeyValuePair(t,A[t])})),e}var f=function(e){var t=e.broadcaster,n=e.video,a=e.content,r=[];return a.type!==u.FC.Live&&n&&n.contentTags&&(r=(0,i.__spreadArray)((0,i.__spreadArray)([],r,!0),n.contentTags,!0)),a.type!==u.FC.Live&&n&&n.game&&n.game.tags&&(r=(0,i.__spreadArray)((0,i.__spreadArray)([],r,!0),n.game.tags,!0)),a.type===u.FC.Live&&t&&t.stream&&t.stream.tags&&(r=(0,i.__spreadArray)((0,i.__spreadArray)([],r,!0),t.stream.tags,!0)),a.type===u.FC.Live&&t&&t.stream&&t.stream.game&&t.stream.game.tags&&(r=(0,i.__spreadArray)((0,i.__spreadArray)([],r,!0),t.stream.game.tags,!0)),r.map((function(e){return(0,d.mV)(e.tagName.toLowerCase())})).join("|")},g=function(e){var t;return(null===(t=null==e?void 0:e.contentClassificationLabels)||void 0===t?void 0:t.filter((function(e){return e.isEnabled})).map((function(e){return e.id})).join("|"))||""},_=function(e){var t,n;return(null===(t=null==e?void 0:e.roles)||void 0===t?void 0:t.isPartner)?"partner":(null===(n=null==e?void 0:e.roles)||void 0===n?void 0:n.isAffiliate)?"affiliate":"basic"},y=function(e){return e===l.A3.HEADLINER||e===l.A3.DIRECTORY_BANNER||e===l.A3.DIRECTORY_RECTANGLE}},705970:function(e,t,n){"use strict";n.d(t,{Hq:function(){return r},qu:function(){return i},wG:function(){return a}});var i=[/^IAS$/,/^doubleverify.com-omid$/,/^amazon.com-omid$/,/^iabtechlab.com-omid$/,/^moat\.com(?!-omsdktwitchhostedamazonvideo963371838528|-omsdktwitchhostedssaiamazonvideo236473939629)/,/^protected.media-omid$/,/^adloox.com-omid$/],a=[/^IAS$/,/^amazon.com-omid$/,/^moat\.com(?!-omsdktwitchhostedamazonvideo963371838528|-omsdktwitchhostedssaiamazonvideo236473939629)/,/^protected.media-omid$/,/^adloox.com-omid$/],r=["ddacn6pr5v0tl.cloudfront.net","c.amazon-adsystem.com","www.twitch.tv"]},691111:function(e,t,n){"use strict";n.d(t,{AM:function(){return G},eY:function(){return q}});var i=n(331635),a=n(826094),r=n(296540),o=n(868238),s=n(125959),d=n(953113),l=n(574156),u=n(486612),c=n(669022),m=n(232290),p=n(90300),v=n(922314),h=n(709673),f=n(231273),g=n(457063),_=n(726280),y=n(88405),k=function(e,t){var n,i,a,r;void 0===t&&(t=_.d.Mid);var o=0,d=0,l=0;return t===_.d.Pre?(d=Math.max((null!==(n=e.getVideoBitRate())&&void 0!==n?n:0)/1e3,(null!==(a=null===(i=e.getQuality())||void 0===i?void 0:i.bitrate)&&void 0!==a?a:0)/1e3),l=s.IG.get("ads_bitrate_bps",0)/1e3,o=Math.max(1e3,d,l)):(d=(null!==(r=e.getVideoBitRate())&&void 0!==r?r:0)/1e3,o=Math.max(1e3,d)),{videoBitrate:d,adBitrate:o,storedAdBitrate:l}},S=n(485272),E=n(705970),w=n(44377),C=n(522646);var b=n(449885),D="https://www.twitch.tv/r/s/abc.js",A="https://www.twitch.tv/r/s/j";function I(e){var t,n,a,r,o,s,d,l,u,c,m,p,v=e.adsManager,h=e.amazonVideoAds,f=e.request,g=(t=v,n=.5,a=function(){t.play()},r=function(){t.pause()},o=function(){return n},s=function(e){n=e,t.setVolume(e)},d=function(e){t.setVolume(e?0:n)},l=function(){t.cancelAdBreak()},u=function(){l(),t.destroy()},c=function(){t.startAds()},(0,i.__assign)({play:a,pause:r,stop:l,getVolume:o,setVolume:s,setMuted:d,destroy:u,start:c},((m={})[C.V.Error]=[],m[C.V.Resumed]=[],m[C.V.Paused]=[],m[C.V.ContentPauseRequested]=[],m[C.V.ContentResumeRequested]=[],m[C.V.Loaded]=[],m[C.V.Started]=[],m[C.V.Progress]=[],m[C.V.FirstQuartile]=[],m[C.V.Midpoint]=[],m[C.V.ThirdQuartile]=[],m[C.V.Impression]=[],m[C.V.Complete]=[],m[C.V.VolumeChanged]=[],m[C.V.Click]=[],m[C.V.CreativeError]=[],m[C.V.CreativeViewed]=[],m[C.V.Muted]=[],m[C.V.Unmuted]=[],p=m,{addEventListener:function(e,t){p[e]=(0,i.__spreadArray)((0,i.__spreadArray)([],p[e],!0),[t],!1)},removeEventListener:function(e,t){p[e]=p[e].filter((function(e){return e!==t}))},emitEvent:function(e,t){p[e].forEach((function(e){return e(t)}))}}))),_=function(e,t,n){g.emitEvent(e,(0,i.__assign)((0,i.__assign)({},function(e,t,n){return{adInfo:N(e),request:t,videoAd:n}}(t,f,g)),n))};return v.addListener(h.eventNames.AdVideoPlayerEvents.RESUMED,(function(e){return _(C.V.Resumed,e)})),v.addListener(h.eventNames.AdVideoPlayerEvents.REQUEST_RESUME,(function(e){return _(C.V.ContentResumeRequested,e)})),v.addListener(h.eventNames.AdVideoPlayerEvents.PAUSED,(function(e){return _(C.V.Paused,e)})),v.addListener(h.eventNames.AdVideoPlayerEvents.REQUEST_PAUSE,(function(e){return _(C.V.ContentPauseRequested,e)})),v.addListener(h.eventNames.AdVideoPlayerEvents.STARTED,(function(e){return _(C.V.Started,e)})),v.addListener(h.eventNames.AdVideoPlayerEvents.LOADED,(function(e){return _(C.V.Loaded,e)})),v.addListener(h.eventNames.AdVideoPlayerEvents.IMPRESSION,(function(e){return _(C.V.Impression,e)})),v.addListener(h.eventNames.AdVideoPlayerEvents.PROGRESS,(function(e){return _(C.V.Progress,e,{progress:e.adMetadata.creative.progress,duration:e.adMetadata.creative.duration})})),v.addListener(h.eventNames.AdVideoPlayerEvents.VOLUME_CHANGE,(function(e){return _(C.V.VolumeChanged,e,{volume:g.getVolume(),muted:g.getVolume()<=0})})),v.addListener(h.eventNames.AdVideoPlayerEvents.FIRST_QUARTILE,(function(e){return _(C.V.FirstQuartile,e,{quartile:1})})),v.addListener(h.eventNames.AdVideoPlayerEvents.MIDPOINT,(function(e){return _(C.V.Midpoint,e,{quartile:2})})),v.addListener(h.eventNames.AdVideoPlayerEvents.THIRD_QUARTILE,(function(e){return _(C.V.ThirdQuartile,e,{quartile:3})})),v.addListener(h.eventNames.AdVideoPlayerEvents.COMPLETED,(function(e){return _(C.V.Complete,e,{quartile:4})})),v.addListener(h.eventNames.AdVideoPlayerEvents.ERRORED,(function(e){g.emitEvent(C.V.Error,{request:f,reason:e.errorCode,errorCode:0})})),v.addListener(h.eventNames.AdVideoPlayerEvents.CLICKED,(function(e){return _(C.V.Click,e)})),h.eventNames.AdVideoPlayerEvents.CREATIVE_VIEWED&&v.addListener(h.eventNames.AdVideoPlayerEvents.CREATIVE_VIEWED,(function(e){return _(C.V.CreativeViewed,e)})),h.eventNames.AdVideoPlayerEvents.CREATIVE_ERROR&&v.addListener(h.eventNames.AdVideoPlayerEvents.CREATIVE_ERROR,(function(e){g.emitEvent(C.V.CreativeError,{request:f,reason:e.errorCode,errorCode:0})})),v.addListener(h.eventNames.AdVideoPlayerEvents.MUTED,(function(e){return _(C.V.Muted,e,{muted:!0})})),v.addListener(h.eventNames.AdVideoPlayerEvents.UNMUTED,(function(e){return _(C.V.Unmuted,e,{muted:!1})})),{adFormat:F(f.adFormat)||(0,S.C_)(f.adFormat)?f.adFormat:f.mafsDecision?w.Z$.STANDARD_VIDEO:w.gz.STANDARD_VIDEO,videoAd:g,stitched:!1,started:!1,duration:f.duration,adPosition:0,numberOfAds:1,roll:f.roll,start:0,isVLM:!!f.isVLM,sdkUrl:e.sdkUrl}}function N(e){if(!e)return null;try{return{adFormat:e.adMetadata.ad.adFormat,advertiser:e.adMetadata.ad.advertiser,adSystem:e.adMetadata.ad.system,adID:e.adMetadata.ad.id,clickThroughUrl:e.adMetadata.companionAd.clickThroughUrl,clickTrackingUrls:e.adMetadata.companionAd.clickTrackingUrls,contentType:e.adMetadata.mediaFile.mimeType,creativeID:e.adMetadata.creative.id,title:e.adMetadata.ad.title,duration:e.adMetadata.creative.duration,adPodInfo:e.adMetadata.ad.podInfo,adWrapperIds:[],adWrapperSystems:[],adWrapperCreativeIDs:[],vastMediaBitrate:e.adMetadata.mediaFile.bitrate,vastMediaHeight:e.adMetadata.mediaFile.height,vastMediaWidth:e.adMetadata.mediaFile.width,mediaUrl:e.adMetadata.mediaFile.url,adCfId:e.adMetadata.viewability.adCfId,advertiserCfId:e.adMetadata.viewability.advertiserCfId,campaignCfId:e.adMetadata.viewability.campaignCfId,creativeCfId:e.adMetadata.viewability.creativeCfId,verificationResources:(t=e.adMetadata.ad.currentAdVerifications,t.map((function(e){var t=function(e){if(0===e.jsResource.length||"omid"!==e.jsResource[0].apiFramework||"IAS"!==e.vendor)return!1;var t=P(e);return function(e){var t=new RegExp("c.amazon-adsystem.com/vfw/ias/fw.js"),n=e.match(t);return!!n}(t)||function(e){return 0!==T(e).length}(t)}(e),n=function(e){if(0===e.jsResource.length||"omid"!==e.jsResource[0].apiFramework||"protected.media-omid"!==e.vendor)return!1;var t=P(e);return t.startsWith("https://js.ad-score.com/")}(e),i=e.jsResource.map((function(e){var i=E.Hq,a=new URL(e.uri),r=a.host,o=a.pathname,s=a.search;i.includes(r)||(n?(r="twitch.tv",o="/r/s/pm/js"+o):(r="ddacn6pr5v0tl.cloudfront.net",o="/om-resources/measurement-providers"+o));var d="https://".concat(r).concat(o).concat(s);return{apiFramework:e.apiFramework,URI:t?D:d}})),a=P(e);return{vendor:e.vendor,JavaScriptResources:i,VerificationParameters:t?R(e.parameters,a):e.parameters}}))),companionEvent:e.target===b.p.CompanionCreative,transparencyInfo:e.adMetadata.ad.currentTransparencyInfo}}catch(e){return null}var t}function P(e){return e.jsResource[0].uri}function T(e){var t=new RegExp("fw.adsafeprotected.com/rjss/st/(.*)/(.*)/skeleton"),n=e.match(t);if(!n)return[];var i=new RegExp("xsId=([^&]*)"),a=e.match(i);return n.concat(a||[])}function R(e,t){var n=T(t);if(n.length>2)return JSON.stringify({config:"/rjss/st/".concat(n[1],"/").concat(n[2],"/skeleton.js?iasProxyPartnerId=1&xsId=").concat(n[4]),host:A});var a=JSON.parse(e),r=a.config.replace(new RegExp("iasProxyPartnerId=[^&]*","i"),"iasProxyPartnerId=1");return JSON.stringify((0,i.__assign)((0,i.__assign)({},a),{config:r,host:A}))}var V,F=function(e){return-1!==[w.gz.STANDARD_VIDEO,w.gz.BROWSE_DISPLAY,w.Z$.STANDARD_AUDIO,w.Z$.STANDARD_VIDEO].indexOf(e)},L=n(882439),O=function(){function e(){this.keyValuePairs={},this.logger=s.x2.logger.withCategory("AdSlotRequestBuilder")}return e.prototype.withId=function(e){return this.id=e,this},e.prototype.withSize=function(e){return this.size=e,this},e.prototype.withMediaType=function(e){return this.mediaType=e,this},e.prototype.withAdUnit=function(e){return this.adUnit=e,this},e.prototype.withKeyValuePair=function(e,t){return this.keyValuePairs[e]="".concat(t),this},e.prototype.build=function(){if(this.validateRequiredField("id",this.id),this.validateRequiredField("size",this.size),this.validateRequiredField("mediaType",this.mediaType),this.adUnit&&this.keyValuePairs.adUnit&&this.adUnit!==this.keyValuePairs.adUnit)throw new Error("Conflict between adUnit input [".concat(this.adUnit,"] and keyValuePair [").concat(this.keyValuePairs.adUnit,"]. Please only set one of them"));return this.logger.debug("Parameters passed validation"),this.adUnit&&this.withKeyValuePair("adUnit",this.adUnit),{id:this.id,mt:this.mediaType,kv:this.keyValuePairs,s:this.size}},e.prototype.validateRequiredField=function(e,t){if(null==t)throw new Error("Missing required field: ".concat(e))},e}(),M=n(441519),x=n(518387),U=n(532896);function B(e){var t=e.request,n=e.sdkVersion,i=L.parse(window.location.search).testAdToken;if(i)return"https://edge.ads.twitch.tv/2018-01-01/ads?testAdToken=".concat(encodeURIComponent(i.toString()));var a=(new O).withId("twitch-player-ui").withSize("640x480").withMediaType("v").build(),r=(new M.C).withV6SSdkVersion(n).withSlot(a).withReturnType("vast3");return s.x2.experiments.__hardcodedStaleExperiment("to_the_edge","treatment")===V.Treatment&&(r=r.withAdvertisingID(s.x2.session.deviceID).withDomain(x.VS),t.currentUser&&(r=r.withCustomerID(t.currentUser.id))),(r=(0,U.L9)(r,t)).buildAdTagURL()}!function(e){e.Control="control",e.Treatment="treatment"}(V||(V={}));var q;!function(e){e.Control="control",e.Treatment="treatment"}(q||(q={}));var G=(0,o.Zz)((0,p._)(),(0,m.A)(),c.z3)((function(e){var t=e.trackVideoAdData,n=e.trackAdFormatData,o=e.trackVideoRAdEvent,c=e.consent,m=r.useState(null),p=m[0],S=m[1],E=r.useContext(h.jK),w=E.thirdPartyVideoAdElement,C=E.thirdPartyOutstreamVideoAdElement,b=E.thirdPartyCompanionAdElement,D=E.videoAdRequest,A=E.reset,N=E.resetOutstreamAd,P=E.fillClientSideAd,T=E.updateClientSideAdSelectionParams,R=E.adFormatRequest,V=r.useContext(g.kl).behaviors,F=r.useContext(f.$g).mediaPlayerInstance,L=r.useRef(!1),O=(0,l.cJ)(c),M=!(0,l.bq)(u.F.TwitchAmazon,c),x=r.useRef(!1),U=r.useRef(s.x2.logger.withCategory("AmazonAdRequester")),q=!(V&&V.declineVideoAdsReason),G=r.useMemo((function(){var e="1.2.1";return s.x2.experiments.getAndTrackAssignment("v6ssdk_version")===e?e:"1.1.9"}),[]),W=r.useMemo((function(){return"https://d2v02itv0y9u9t.cloudfront.net/dist/".concat(G,"/v6s.js")}),[G]),H=(0,d.j8)(W),K=!(!H||"loaded"!==H.status),Y=!(!H||"failed"!==H.status),j=r.useCallback((function(){var e={reason:"Amazon Video Ads load failed"};t("video_ad_request_error",e),o(v.V.VideoAdRequestError,e)}),[t,o]);return r.useEffect((function(){Y&&j()}),[Y,j]),r.useEffect((function(){K&&(window.AmazonVideoAds?w&&q&&(w.classList.add("avap-ads-container"),S(new window.AmazonVideoAds(w))):j())}),[K,w,j,q]),r.useEffect((function(){var e;p&&b&&(null===(e=p.setCompanion)||void 0===e||e.call(p,b))}),[p,b]),r.useEffect((function(){var e;p&&C&&(null===(e=p.setOutStreamAdsContainerNode)||void 0===e||e.call(p,C))}),[p,C]),r.useEffect((function(){var e;!x.current&&O&&p&&(x.current=!0,M?(U.current.debug("Amazon consent given, calling fireTrackingPixel()"),null===(e=p.fireTrackingPixel)||void 0===e||e.call(p,!0)):U.current.debug("Amazon consent denied"))}),[p,M,O]),r.useEffect((function(){var e,n=null!=D?D:z(R)?R:null,r=new Date,s={emitting_service:"AdvantEdge",allocation_strategy:(null==n?void 0:n.mafsDecision)||"",date:r.toDateString(),stitched:!1,allocation_type:"PreFill",requested_format:null==n?void 0:n.adFormat.toString(),fallback_format:null===(e=null==n?void 0:n.fallbackFormat)||void 0===e?void 0:e.toString(),primary_format:null==n?void 0:n.adFormat.toString()};if(n&&n.status===_.s.Processed&&n.sdk===y.R.Amazon&&p&&F&&!L.current){L.current=!0,t("video_ad_request"),o(v.V.VideoAdRequest);var d=Date.now();t("ad_edge_request",s),function(e){(0,i.__awaiter)(this,arguments,void 0,(function(e){var n,r,l,u,c,m,p,h,f,g,_,y,S,E,w,C,b=e.url,D=e.request,N=e.avap,R=e.mediaPlayer;return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,3,4]),[4,N.fetchAds(b)];case 1:if(null==(n=e.sent()))throw new Error("Failed to retrieve valid Ads Manager from AVAP");return n.init({fullscreen:!1,muted:R.isMuted(),volume:R.getVolume()}),t("video_ad_request_response"),t("ad_edge_request_response",{request_duration:Date.now()-d}),r=I({amazonVideoAds:N,adsManager:n,request:D,sdkUrl:W}),l=null===(y=r.adInfo)||void 0===y?void 0:y.adSystem,u=(0,i.__assign)((0,i.__assign)({},s),{player_mute:R.isMuted(),player_volume:R.getVolume(),ad_id:null===(S=r.adInfo)||void 0===S?void 0:S.adID,available_impression:r.numberOfAds,commercial_id:D.commercialID,break_length:D.duration,ad_position:r.adPosition,duration:D.duration,actual_duration:r.duration}),t("ad_csai_bid_parse_success",u),P(r,D),t("ad_csai_served_impressions",u),c=k(R,r.roll),m=c.videoBitrate,p=c.adBitrate,h=c.storedAdBitrate,T({isAutoQualityMode:null!==(E=R.isAutoQualityMode())&&void 0!==E&&E,currentVideoWidth:null!==(w=R.getVideoWidth())&&void 0!==w?w:0,currentVideoHeight:null!==(C=R.getVideoHeight())&&void 0!==C?C:0,currentVideoBitrate:m,maxAdBitrate:p,storedAdBitrate:h}),n.startAds(p),l&&"FAS"===l||t("ad_client_pod_start",u),[3,4];case 2:return f=e.sent(),g={reason:(0,a.d)(f,{useRawMessage:!0})},t("video_ad_request_error",g),o(v.V.VideoAdRequestError,g),_=(0,i.__assign)({error_code:(0,a.d)(f,{useRawMessage:!0})},s),t("ad_edge_request_error",_),t("ad_csai_bid_parse_error",_),A(),[3,4];case 3:return L.current=!1,[7];case 4:return[2]}}))}))}({url:B({request:n,sdkVersion:G}),request:n,avap:p,mediaPlayer:F})}}),[R,D,p,L,F,P,T,A,t,o,W,G]),r.useEffect((function(){var e,t=null!=R||z(R)?R:null,r=new Date,o={allocation_strategy:(null==t?void 0:t.mafsDecision)||"",date:r.toDateString(),stitched:!1,requested_format:null==t?void 0:t.adFormat.toString(),fallback_format:null===(e=null==t?void 0:t.fallbackFormat)||void 0===e?void 0:e.toString(),primary_format:null==t?void 0:t.adFormat.toString()};t&&t.status===_.s.Preparing&&t.vast&&p&&F&&C&&!L.current&&(L.current=!0,function(e){(0,i.__awaiter)(this,arguments,void 0,(function(e){var t,r,s,d,l,u,c,m,p,v,h,f,g,_,y=e.request,S=e.avap,E=e.mediaPlayer;return(0,i.__generator)(this,(function(e){switch(e.label){case 0:if(e.trys.push([0,2,3,4]),!y.vast)throw new Error("No VAST was provided");return[4,S.parseAds(y.vast)];case 1:if(null==(t=e.sent()))throw new Error("Failed to retrieve valid Ads Manager from AVAP");return r=I({amazonVideoAds:S,adsManager:t,request:y}),s=k(E,r.roll),d=s.videoBitrate,l=s.adBitrate,u=s.storedAdBitrate,t.init({fullscreen:!1,muted:!0,volume:E.getVolume()},{bitrate:l}),c=null===(v=r.adInfo)||void 0===v?void 0:v.adSystem,m=(0,i.__assign)((0,i.__assign)({},o),{player_mute:E.isMuted(),player_volume:E.getVolume(),ad_id:null===(h=r.adInfo)||void 0===h?void 0:h.adID,available_impression:r.numberOfAds,commercial_id:y.commercialID,break_length:y.duration,ad_position:r.adPosition,duration:y.duration,actual_duration:r.duration}),n("ad_csai_bid_parse_success",m),P(r,y),n("ad_csai_served_impressions",m),T({isAutoQualityMode:null!==(f=E.isAutoQualityMode())&&void 0!==f&&f,currentVideoWidth:null!==(g=E.getVideoWidth())&&void 0!==g?g:0,currentVideoHeight:null!==(_=E.getVideoHeight())&&void 0!==_?_:0,currentVideoBitrate:d,maxAdBitrate:l,storedAdBitrate:u}),c&&"FAS"===c||n("ad_client_pod_start",m),[3,4];case 2:return p=e.sent(),n("ad_request_error",{reason:(0,a.d)(p,{useRawMessage:!0})}),n("ad_csai_bid_parse_error",(0,i.__assign)({error_code:(0,a.d)(p,{useRawMessage:!0})},o)),N(),[3,4];case 3:return L.current=!1,[7];case 4:return[2]}}))}))}({request:t,avap:p,mediaPlayer:F}))}),[R,C,p,L,F,P,T,N,n]),null}));function z(e){return void 0!==(null==e?void 0:e.adFormat)}},449885:function(e,t,n){"use strict";var i,a;n.d(t,{f:function(){return i},p:function(){return a}}),function(e){e.AUDIO="AUDIO",e.VIDEO="VIDEO"}(i||(i={})),function(e){e.LinearCreative="linear",e.CompanionCreative="companion"}(a||(a={}))},543256:function(e,t,n){"use strict";n.d(t,{Ny:function(){return r},c0:function(){return a},df:function(){return o}});var i=n(125959);function a(){return(0,i.hw)("Stream Display Ad","StreamDisplayAd")}function r(e){return 160===e.width&&600===e.height}function o(e,t){var n=i.Zn.get("skyscraper_kill_switch",!1);return 160===e&&600===t&&n}},232290:function(e,t,n){"use strict";n.d(t,{A:function(){return N}});var i=n(331635),a=n(474848),r=n(296540),o=n(868238),s=n(125959),d=n(928778),l=n(503472),u=n(300235),c=n(777952),m=n(669022),p=n(960052),v=n(709673),h=n(231273),f=n(457063),g=n(569939),_=n(764823),y=n(21824),k=n(44377),S=n(674181),E=n(726280),w=n(573566),C=n(118483),b=n(323692),D=n(222310),A=n.n(D),I=n(704883);function N(){return function(e){var t=function(t){function n(e){var n=t.call(this,e)||this;return n.logger=s.vF.withCategory("WithAdFormatTrackingComponent"),n.playerVisibilityAllowlist=new Set(["ad_impression",b.V.AdImpression,"ad_quartile"]),n.trackAdFormatData=function(e,t){n.props.track(e,(0,i.__assign)((0,i.__assign)({},t),n.getRequestProperties(e)))},n.trackAdFormatRAdEvent=function(e,t){return(0,i.__awaiter)(n,void 0,void 0,(function(){var n,a,r;return(0,i.__generator)(this,(function(o){switch(o.label){case 0:if("string"!=typeof(n=this.props.radToken))return[2];a={eventName:e,eventPayload:JSON.stringify((0,i.__assign)((0,i.__assign)({},t),this.getRequestProperties(e))),radToken:n},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.props.recordAdEvent((0,l.AR)(a))];case 2:return o.sent(),[3,4];case 3:return r=o.sent(),this.logger.errorAndReport(r,"Failed to record ad event in RAds"),[3,4];case 4:return[2]}}))}))},n.getRequestProperties=function(e){var t,a,r,o,d,l,u,m,v,h=n.props,f=h.adFormatRequest,g=h.adFormatMetadata,_=h.content,y=h.behaviors,b=h.consent,D=h.muted,A=h.volume,I=h.mediaPlayerInstance;if((0,w.lq)(g))return{stitched:!0};var N=(0,C.DG)(_)?c.cM.Live:(0,C.wy)(_)?c.cM.VOD:(0,C.Jn)(_)?c.cM.Clip:"",P={tab_session_id:s.x2.session.tabID,browser:navigator.userAgent,content_type:N,gdpr_logs:null===(a=null===(t=null==b?void 0:b.consent)||void 0===t?void 0:t.gdprUserPreferences)||void 0===a?void 0:a.tcData.tcString,gdpr_consent:null===(d=null===(o=null===(r=null==b?void 0:b.consent)||void 0===r?void 0:r.gdprUserPreferences)||void 0===o?void 0:o.tcData.purpose.consents)||void 0===d?void 0:d.valueOf(),gdpr_enabled:null===(m=null===(u=null===(l=null==b?void 0:b.consent)||void 0===l?void 0:l.gdprUserPreferences)||void 0===u?void 0:u.tcData.ifGDPRApplies)||void 0===m?void 0:m.valueOf(),referrer_domain:null===(v=s.E5.getLastPageview())||void 0===v?void 0:v.referrer_domain,is_embed:null==y?void 0:y.embed,ad_placement:S.p.CHANNEL_PLAYER,player_mute:D,player_visibility:n.getPlayerVisibility(e),player_volume:A,tab_in_view:"visible"===document.visibilityState,video_session_id:I&&I.getSessionData()["VIDEO-SESSION-ID"]};if(!f)return P;var T={};f.status!==E.s.Pending&&(T={sdk:f.sdk});var R=g?g.adFormat:f.adFormat,V=void 0;return(0,p.Ix)(R)?V=R:(0,p.vK)(R)&&(V=k.Z$[R]),(0,i.__assign)((0,i.__assign)({is_mafs:!!f.mafsDecision,ad_position:(null==g?void 0:g.adPosition)||0,ad_session_id:f.sessionID,break_length:f.duration,commercial_id:f.commercialID,creative_id:f.adCreativeID,format_name:V,roll_type:f.roll,stitched:(null==g?void 0:g.stitched)||!1,twitch_correlator:f.twitchCorrelator},P),T)},n.state={trackAdFormatData:n.trackAdFormatData,trackAdFormatRAdEvent:n.trackAdFormatRAdEvent},n}return(0,i.__extends)(n,t),n.prototype.render=function(){return(0,a.jsx)(e,(0,i.__assign)({},this.props,this.state))},n.prototype.getPlayerVisibility=function(e){if(this.playerVisibilityAllowlist.has(e))return(0,I.K)(this.props.videoContainer)},n.displayName=(0,u.K)(n.name,e),n}(r.Component);return(0,o.Zz)((0,f.cj)((function(e){return{content:e.content,behaviors:e.behaviors}})),(0,v.VX)((function(e){return{adFormatRequest:e.adFormatRequest,adFormatMetadata:e.adFormatMetadata,radToken:e.radToken}})),(0,h.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),(0,g.o1)(),(0,_.c0)((function(e){return{videoContainer:e.videoContainer}})),(0,y.AP)((function(e){return{muted:e.muted,volume:e.volume}})),m.z3,(0,d._v)(A(),{name:"recordAdEvent"}))(t)}}},323692:function(e,t,n){"use strict";var i;n.d(t,{V:function(){return i}}),function(e){e.AdImpression="ad_impression"}(i||(i={}))},704883:function(e,t,n){"use strict";function i(e){if(!e)return 0;var t=e.getBoundingClientRect(),n={height:window.innerHeight||document.documentElement.clientHeight||screen.height||0,width:window.innerWidth||document.documentElement.clientWidth||screen.width||0};if(t.top<n.height&&t.left<n.width&&t.right>0&&t.bottom>0){var i=t.bottom-t.top;return Math.min(n.height-t.top,t.bottom,i,n.height)/i}return 0}n.d(t,{K:function(){return i}})},90300:function(e,t,n){"use strict";n.d(t,{_:function(){return P}});var i=n(331635),a=n(474848),r=n(296540),o=n(868238),s=n(125959),d=n(928778),l=n(345029),u=n(503472),c=n(300235),m=n(777952),p=n(669022),v=n(960052),h=n(704883),f=n(709673),g=n(231273),_=n(457063),y=n(569939),k=n(764823),S=n(21824),E=n(44377),w=n(726280),C=n(573566),b=n(118483),D=n(922314),A=n(166866),I=n.n(A);function N(e){return{muted:e.muted,volume:e.volume}}function P(){return function(e){var t=function(t){function n(e){var n=t.call(this,e)||this;return n.logger=s.vF.withCategory("WithVideoAdTrackingComponent"),n.playerVisibilityAllowlist=new Set(["ad_impression",D.V.AdImpression,"ad_quartile"]),n.trackVideoAdData=function(e,t){n.props.track(e,(0,i.__assign)((0,i.__assign)({},n.getRequestProperties(e)),t))},n.trackVideoRAdEvent=function(e,t){return(0,i.__awaiter)(n,void 0,void 0,(function(){var n,a,r;return(0,i.__generator)(this,(function(o){switch(o.label){case 0:if("string"!=typeof(n=this.props.radToken))return[2];a={eventName:e,eventPayload:JSON.stringify((0,i.__assign)((0,i.__assign)({},this.getRequestProperties(e)),t)),radToken:n},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.props.recordAdEvent((0,u.AR)(a))];case 2:return o.sent(),[3,4];case 3:return r=o.sent(),this.logger.errorAndReport(r,"Failed to record ad event in RAds"),[3,4];case 4:return[2]}}))}))},n.getRequestProperties=function(e){var t,a,r,o,d,u,c,p,h,f,g=n.props,_=g.videoAdRequest,y=g.videoAdMetadata,k=g.content,S=g.behaviors,D=g.consent,A=g.muted,I=g.volume,N=g.mediaPlayerInstance;if((0,C.lq)(y))return{stitched:!0};var P=y,T="";if(P&&"sdkUrl"in P&&P.sdkUrl&&(T=P.sdkUrl),!_)return{ad_session_id:null,roll_type:null,time_break:null};var R={};_.status!==w.s.Pending&&(R={provider:_.sdk,ad_server:_.server&&_.server.toLowerCase(),sdk_url:T});var V=y?y.adFormat:_.adFormat,F=void 0;(0,v.Ix)(V)?F=V:(0,v.vK)(V)&&(F=E.Z$[V]);var L=(0,b.DG)(k)?m.cM.Live:(0,b.wy)(k)?m.cM.VOD:(0,b.Jn)(k)?m.cM.Clip:"";return(0,i.__assign)({stitched:(0,C.lq)(y),tab_session_id:s.x2.session.tabID,browser:navigator.userAgent,country:(0,l.If)()||"",content_type:L,is_mafs:!!_.mafsDecision,gdpr_logs:null===(a=null===(t=null==D?void 0:D.consent)||void 0===t?void 0:t.gdprUserPreferences)||void 0===a?void 0:a.tcData.tcString,gdpr_consent:null===(d=null===(o=null===(r=null==D?void 0:D.consent)||void 0===r?void 0:r.gdprUserPreferences)||void 0===o?void 0:o.tcData.purpose.consents)||void 0===d?void 0:d.valueOf(),gdpr_enabled:null===(p=null===(c=null===(u=null==D?void 0:D.consent)||void 0===u?void 0:u.gdprUserPreferences)||void 0===c?void 0:c.tcData.ifGDPRApplies)||void 0===p?void 0:p.valueOf(),referrer_domain:null===(h=s.E5.getLastPageview())||void 0===h?void 0:h.referrer_domain,is_embed:null==S?void 0:S.embed,twitch_correlator:_.twitchCorrelator,ad_session_id:_.sessionID,roll_type:_.roll,time_break:_.duration,break_length:_.duration,commercial_id:_.commercialID,format_name:F,sdk_url:T,player_mute:A,player_visibility:n.getPlayerVisibility(e),video_session_id:null===(f=null==N?void 0:N.getSessionData())||void 0===f?void 0:f["VIDEO-SESSION-ID"],player_volume:I},R)},n.state={trackVideoAdData:n.trackVideoAdData,trackVideoRAdEvent:n.trackVideoRAdEvent},n}return(0,i.__extends)(n,t),n.prototype.render=function(){return(0,a.jsx)(e,(0,i.__assign)({},this.props,this.state))},n.prototype.getPlayerVisibility=function(e){if(this.playerVisibilityAllowlist.has(e))return(0,h.K)(this.props.videoContainer)},n.displayName=(0,c.K)(n.name,e),n}(r.Component);return(0,o.Zz)((0,_.cj)((function(e){return{content:e.content,behaviors:e.behaviors}})),(0,y.o1)(),(0,g.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),(0,k.c0)((function(e){return{videoContainer:e.videoContainer}})),(0,S.AP)(N),(0,f.VX)((function(e){return{videoAdRequest:e.videoAdRequest,videoAdMetadata:e.videoAdMetadata,radToken:e.radToken}})),(0,d._v)(I(),{name:"recordAdEvent"}),p.z3)(t)}}},922314:function(e,t,n){"use strict";var i;n.d(t,{V:function(){return i}}),function(e){e.AdImpression="ad_impression",e.AdPodComplete="ad_pod_complete",e.AdQuartile="ad_quartile",e.VideoAdRequest="video_ad_request",e.VideoAdRequestDeclined="video_ad_request_declined",e.VideoAdRequestError="video_ad_request_error",e.VideoAdError="video_ad_error",e.VideoAdImpression="video_ad_impression",e.VideoAdQuartileComplete="video_ad_quartile_complete",e.VideoAdPodComplete="video_ad_pod_complete"}(i||(i={}))},107212:function(e,t,n){"use strict";n.d(t,{X:function(){return d}});var i=n(331635),a=n(474848),r=n(296540),o=n(300235),s=n(231273);function d(){return function(e){var t=function(t){function n(e){var n=t.call(this,e)||this;n.bufferedEventListeners=[],n.attachedEventListeners=[],n.addEventListener=function(e,t){var i=n.props.mediaPlayerInstance,a={event:e,listener:t};i?(n.attachedEventListeners.push(a),n.bufferedEventListeners=n.filterEventListeners(n.bufferedEventListeners,e,t),i.addEventListener(e,t)):n.bufferedEventListeners.push(a)},n.removeEventListener=function(e,t){var i=n.props.mediaPlayerInstance;i&&(n.attachedEventListeners=n.filterEventListeners(n.attachedEventListeners,e,t),i.removeEventListener(e,t))},n.attachEventListeners=function(){var e=n.props.mediaPlayerInstance;0!==n.bufferedEventListeners.length&&e&&n.bufferedEventListeners.forEach((function(e){var t=e.event,i=e.listener;return n.addEventListener(t,i)}))},n.filterEventListeners=function(e,t,n){return e.filter((function(e){var i=e.event,a=e.listener;return t!==i&&n!==a}))};var i=n,a=i.addEventListener,r=i.removeEventListener;return n.state={playerEvents:{addEventListener:a,removeEventListener:r}},n}return(0,i.__extends)(n,t),n.prototype.componentDidMount=function(){this.attachEventListeners()},n.prototype.componentDidUpdate=function(){this.attachEventListeners()},n.prototype.componentWillUnmount=function(){var e=this;this.attachedEventListeners.forEach((function(t){var n=t.event,i=t.listener;return e.removeEventListener(n,i)}))},n.prototype.render=function(){return(0,a.jsx)(e,(0,i.__assign)({},this.props,this.state))},n.displayName=(0,o.K)(n.name,e),n}(r.Component);return(0,s.dd)(l)(t)}}function l(e){return{mediaPlayerInstance:e.mediaPlayerInstance}}},808835:function(e,t,n){"use strict";n.d(t,{J:function(){return s},Z:function(){return d}});var i=n(436617),a=n(317193),r={channelName:null,contentLabels:null,overlayTiming:a.HX.PageLoad,overlayType:a.P8.None,storeAcknowledgement:function(){},trackClick:function(){}},o=(0,i.e)("contentClassificationContext",r,(function(e){return{contentClassificationContext:e}})),s=o.context,d=o.withMemoContext},569939:function(e,t,n){"use strict";n.d(t,{N1:function(){return X},g7:function(){return Z},o1:function(){return Q}});var i=n(331635),a=n(474848),r=n(296540),o=n(415044),s=n(868238),d=n(125959),l=n(928778),u=n(726561),c=n(456450);var m=n(982821),p=n(979205),v=n(732446),h=n(267924),f=n(131883),g=n(412914),_=n(574156),y=n(669022),k=n(107212),S=n(709673),E=n(808835),w=n(424749),C=n(436617),b=n(231273),D=n(457063),A=n(764823),I=n(21824),N=n(648101),P=n(954978),T=n(763932),R=n(573566),V=n(118483),F=n(177972),L=n(286169),O=n(664213),M=n(451089),x=n.n(M),U=n(594064),B=n.n(U),q=n(503472);function G(e){var t=W(e),n=function(e){var t=W(e),n=H(e.collection);if(t&&n&&n.length>0){var i=n.findIndex((function(e){return e.id&&t.id&&e.id===t.id}));return i>=0?i:void 0}return}(e);return{video:t,positionInCollection:n}}function z(e){var t;if(e.user)return null===(t=e.user.broadcastSettings)||void 0===t?void 0:t.game;var n=W(e);return n?n.game:e.clip?e.clip.game:void 0}function W(e){var t=e.video,n=e.collection;if(t)return t;var i=H(n);return i&&i.length>0?i[0]:null}function H(e){var t=e&&e.items&&e.items.edges;return t&&(0,q.bK)(t)}function K(e){var t=e.user;return t?t.broadcastSettings:null}function Y(e){var t=e.user;return t?t.id:null}var j=(0,C.e)("PlayerTrackingContext",{track:function(){return null}},(function(e){return e})),Q=j.withMemoContext,Z=j.context,J=function(e){function t(t){var n=e.call(this,t)||this;return n.timeSpentHidden=0,n.timeLastVisible=performance.now(),n.isFirstVideoPlay=!0,n.autoPlaySucceeded=!0,n.handleVisibilityChange=function(){document.hidden?n.timeLastVisible=performance.now():n.timeSpentHidden=Math.round(n.timeSpentHidden+performance.now()-n.timeLastVisible)},n.track=function(e,t){var a,r,o,s,l,u,c=n.props,m=c.playerType,p=c.muted,v=c.location,h=c.mediaPlayerInstance,f=c.data,g=c.channelLogin,_=c.volume,y=h&&h.getSessionData(),k=G(f),S=k.video,E=k.positionInCollection,w=function(e){var t=e.user,n=e.clip,i=e.collection,a=e.video;return t||n&&n.broadcaster||i&&i.owner||a&&a.owner}(f),C=f.user&&f.user.stream?f.user.stream:null,b=C?C.broadcasterSoftware:null,D=f.user&&f.user.self?!!f.user.self.subscriptionBenefit:null,A=n.getRestrictionInfo(n.props),I=w&&w.login||g,N=w&&w.id,P=n.getAutoHost(),R=null!==(a=null==P?void 0:P.sourceChannelLogin)&&void 0!==a?a:null,V=null!==(r=null==P?void 0:P.sourceChannelID)&&void 0!==r?r:null,F=h&&h.getVersion()||"",L=n.props.rightColumnExpanded&&!(m===T.C.ClipsViewing),O=!!(null===(s=null===(o=f.user)||void 0===o?void 0:o.self)||void 0===s?void 0:s.follower),M=(0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)({},function(e){var t=e&&e.state||{};return{freeform_tag_display:t.freeform_tag_display,freeform_tag_filter:t.freeform_tag_filter,item_tracking_id:t.item_tracking_id,item_position:t.item_position,row_position:t.row_position,row_name:t.row_name,section_id:t.section_id,search_query_id:t.search_query_id,search_session_id:t.search_session_id,search_item_tracking_id:t.search_item_tracking_id,tag_filter_set:t.tag_filter_set,tag_set:t.tag_set,raid_id:t.raid_id}}(v)),n.getPlayerTrackingDataFromProps()),n.uniquePayloadValuesVideoPlay(e)),n.uniquePayloadValuesMinutesWatched(e)),n.uniquePayloadValuesVideoPause(e)),n.uniquePayloadValuesVideoAdImpression(e)),n.uniquePayloadValuesVideoError(e)),n.uniquePayloadValuesClips(e)),n.uniquePayloadValuesNSecondPlayed(e)),{app_fullscreen:n.props.isFullscreen,autoplayed:n.props.autoplay,backend_version:F,broadcast_id:y&&y["BROADCAST-ID"]||void 0,broadcaster_software:b,channel:I,channel_id:N,channel_restriction_type:A.restrictionType,chat_visible:L,chat_visibility_status:L?"visible":void 0,collection_id:n.props.collectionID,collection_item_position:E,collection_session_id:n.props.collectionSessionId,content_mode:n.getContentMode(n.props),core_version:F,game:null===(l=z(f))||void 0===l?void 0:l.name,game_id:null===(u=z(f))||void 0===u?void 0:u.id,is_following:O,host_channel:R,host_channel_id:V,is_ad_playing:n.props.isAdShowing,language:n.props.language,logged_in:!!f.currentUser,login:f.currentUser&&f.currentUser.login,live:n.props.isLive,mse_support:"undefined"!=typeof MediaSource,muted:!!p,partner:!(!w||!w.isPartner),play_session_id:n.props.playSessionId,playback_gated:!!n.props.hasPlaybackRestriction,player:m,player_size_mode:n.getPlayerDisplayMode(),staff:!!n.props.data.currentUser&&n.props.data.currentUser.isStaff,subscriber:D,turbo:!!n.props.data.currentUser&&n.props.data.currentUser.hasTurbo,user_id:n.props.data.currentUser?Number(n.props.data.currentUser.id):null,viewer_exemption_reason:A.exemption,vod:S&&S.id||void 0,vod_format:n.props.isClip?"mp4":void 0,vod_id:f.clip&&Number(f.clip.id)||S&&S.id||void 0,vod_type:n.getVodType(),volume:_}),x=n.preferDecoratedProperties(M,t);d.E5.trackPlayerEvent(e,x)},n.uniquePayloadValuesVideoPlay=function(e){if("video-play"===e){var t=(0,_.wm)(n.props.consent),i={autoplay_succeeded:n.autoPlaySucceeded,is_first_video_play:n.isFirstVideoPlay,time_for_player_core_load:n.playerCoreLoadTime,time_for_token_load:n.props.accessTokenLoadTime,time_spent_hidden:n.timeSpentHidden,consent_comscore_ok:t,content_classification_label_set:n.props.contentLabelsForTracking};return n.isFirstVideoPlay=!1,n.autoPlaySucceeded=!0,i}},n.uniquePayloadValuesMinutesWatched=function(e){var t,i;if("minute-watched"===e||"clips_minute_watched"===e){var a=(null===(i=null===(t=n.props.data.user)||void 0===t?void 0:t.self)||void 0===i?void 0:i.isModerator)||!1,r=(0,_.wm)(n.props.consent);return{is_mod:a,time_spent_hidden:n.timeSpentHidden,consent_comscore_ok:r,content_classification_label_set:n.props.contentLabelsForTracking}}},n.uniquePayloadValuesVideoPause=function(e){if("video_pause"===e)return{consent_comscore_ok:(0,_.wm)(n.props.consent)}},n.uniquePayloadValuesVideoAdImpression=function(e){if("video_ad_impression"===e||"video_ad_impression_complete"===e)return{consent_comscore_ok:(0,_.wm)(n.props.consent)}},n.uniquePayloadValuesVideoError=function(e){if("video_error"===e)return{in_background:!!document.hidden}},n.uniquePayloadValuesClips=function(e){var t="video-play"===e||"video_init"===e||"video_end"===e||"n_second_play"===e||"clips_minute_watched"===e;if(!1!==n.props.isClip&&!1!==t)return{clip_slug:n.props.clipSlug}},n.uniquePayloadValuesNSecondPlayed=function(e){if("n_second_play"===e&&n.props.isClip){var t=n.props.clipLocation;return!t&&n.props.embed&&(t=N.yI.Embed),{location:t}}},n.getPlayerTrackingDataFromProps=function(){return(0,i.__assign)((0,i.__assign)({},n.props.additionalTrackingProps),{squad_stream_id:n.props.squad&&n.props.squad.streamID?n.props.squad.streamID:null,squad_stream_session_id:n.props.squad&&n.props.squad.sessionID?n.props.squad.sessionID:null,squad_stream_presentation_id:n.props.squad&&n.props.squad.presentationID?n.props.squad.presentationID:null})},n.getPlayerDisplayMode=function(){return(0,O.y)({isFullscreen:n.props.isFullscreen,playerType:n.props.playerType,theatreModeEnabled:n.props.theatreModeEnabled,mini:n.props.mini})},n.getRestrictionInfo=function(e){var t,n=e.data,i=e.accessExpiration,a=n.user&&n.user.stream?n.user.stream:null,r=a&&a.restriction,o=null!==(t=null==r?void 0:r.type)&&void 0!==t?t:null;return r&&r.options&&r.type===h.B2H.SUB_ONLY_LIVE&&(r.options.includes(h.y6l.ALLOW_ALL_TIERS)?o="".concat(o,"_1000"):r.options.includes(h.y6l.ALLOW_TIER_2_AND_3_ONLY)?o="".concat(o,"_2000"):r.options.includes(h.y6l.ALLOW_TIER_3_ONLY)&&(o="".concat(o,"_3000"))),{exemption:i?"free_preview":r&&r.exemptions&&r.exemptions.length?"exempt":null,restrictionType:o&&o.toLowerCase()||void 0}},n.getVodType=function(){if(n.props.isClip)return"clip";if(n.props.vodType)return n.props.vodType;var e=G(n.props.data).video;return e&&e.broadcastType?(0,g.E)(e.broadcastType):void 0},n.getAutoHost=function(){return n.props.autohost},n.onPlaybackBlocked=function(){n.autoPlaySucceeded=!1},n.state={track:n.track},n}return(0,i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(P.a.PLAYBACK_BLOCKED,this.onPlaybackBlocked),document.addEventListener("visibilitychange",this.handleVisibilityChange)},t.prototype.componentDidUpdate=function(e){var t=this,n=this.props.playerLoadTimePromise;e.playerLoadTimePromise!==n&&n&&n.then((function(e){t.props.playerLoadTimePromise===n&&(t.playerCoreLoadTime=e)}))},t.prototype.componentWillUnmount=function(){document.removeEventListener("visibilitychange",this.handleVisibilityChange)},t.prototype.render=function(){return(0,a.jsx)(Z.Provider,{value:this.state,children:this.props.children})},t.prototype.preferDecoratedProperties=function(e,t){var n=(0,i.__assign)({},t);return Object.keys(e).forEach((function(t){var i;n[t]=n[t]?null!==(i=e[t])&&void 0!==i?i:n[t]:e[t]})),n},t.prototype.getContentMode=function(e){var t=e.isClip,n=e.data,i=e.vodID,a=e.collectionID;if(t)return"clip";if(i||a)return"vod";var r=n.user&&n.user.stream?n.user.stream:null,o=r?r.broadcasterSoftware:null,s="live";return"watch_party"===o||"watch_party_premiere"===o||"watch_party_rerun"===o?s="vodcast":"rebroadcast"===o&&(s="vod"),s},t}(r.Component);var $,X=(0,s.Zz)(y.z3,v.y,(0,o.Ng)((function(e){return{isLoggedIn:(0,f.M3)(e),language:(0,f.Ul)(e),rightColumnExpanded:e.ui.rightColumnExpanded,theatreModeEnabled:e.ui.theatreModeEnabled}})),(0,k.X)(),(0,b.dd)(ee),(0,A.c0)((function(e){var t=e.isFullscreen;return{isFullscreen:t}})),(0,D.cj)((function(e){var t=e.content,n=e.type,i=(0,L.wk)({playerPublicPropsContext:e}),a=(0,V.DG)(t);return{playerType:n,mini:!!i.mini,additionalTrackingProps:i.trackingProperties,isClip:(0,V.Jn)(t),isLive:a,vodType:(0,V.wy)(t)?t.vodType:null,squad:(0,V.DG)(t)?t.squad:null,autohost:(0,V.DG)(t)?t.autohost:null,collectionID:(0,V.Eq)(t),channelLogin:(0,V.hd)(t),vodID:(0,V.hq)(t),isCollectionWithVideo:(0,V.P3)(t)&&!!t.vodID,clipSlug:(0,V.Qc)(t),clipLocation:(0,V.gm)(t),embed:!!i.embed}})),(0,I.AP)((function(e){var t=e.muted,n=e.volume;return{muted:t,volume:n}})),(0,b.dd)(ee),(0,S.VX)((function(e){return{isAdShowing:(0,R.cz)(e.videoAdMetadata)}})),(0,E.Z)((function(e){var t=e.contentLabels;return{contentLabelsForTracking:(0,w.aH)(t)}})),(0,l._v)(B(),{options:function(e){var t;return{returnPartialData:!0,variables:{channel:e.channelLogin,isLive:!!e.channelLogin,hasCollection:e.isCollectionWithVideo&&null!==e.collectionID,collectionID:e.collectionID||"",videoID:null!==(t=e.vodID)&&void 0!==t?t:"",hasVideo:!!e.vodID,slug:e.clipSlug||"",hasClip:e.isClip}}}}),($=function(e){var t,n,i;return{fragment:x(),id:(i=null===(t=K(e.data))||void 0===t?void 0:t.id,i?"BroadcastSettings:".concat(i):""),topic:(0,c.Fz)(Y(e.data)||""),type:m.PD.BroadcastSettingsUpdate,skip:!(null===(n=K(e.data))||void 0===n?void 0:n.id)||!Y(e.data),mutator:te}},function(e){return function(t){var n,o,s;return n=$(t),o=(0,u.F)(n.mutator),s=(0,r.useCallback)((function(e,t){return o.current(e,t)}),[o]),(0,r.useEffect)((function(){if(!n.skip){var e=(0,c.BN)({fragment:n.fragment,id:n.id,topic:n.topic,type:n.type,mutator:s});return function(){e()}}}),[s,n.fragment,n.id,n.skip,n.topic,n.type]),(0,a.jsx)(e,(0,i.__assign)({},t))}}))(J);function ee(e){var t=e.accessExpiration,n=e.autoplay,i=e.collectionSessionId,a=e.hasPlayed,r=e.mediaPlayerInstance,o=e.playSessionId,s=e.accessTokenLoadTime,d=e.playerLoadTimePromise;return{accessExpiration:t,autoplay:n,collectionSessionId:i,hasPlaybackRestriction:(0,F.k1)(e),hasPlayed:a,mediaPlayerInstance:r,playSessionId:o,accessTokenLoadTime:s,playerLoadTimePromise:d}}function te(e,t){var n,a,r,o=(0,p.v)(e),s=o.gameID,d=o.gameName,l=o.missingGameInfo,u=o.updatingToNullGame;return t&&e&&!l?u?(0,i.__assign)((0,i.__assign)({},t),{game:null}):(0,i.__assign)((0,i.__assign)({},t),{game:{__typename:"Game",id:null!==(n=null==s?void 0:s.toString())&&void 0!==n?n:"",name:null!=d?d:"",displayName:null!=d?d:"",boxArtURL:(a=null!=d?d:"",r={width:83,height:113},"https://static-cdn.jtvnw.net/ttv-boxart/".concat(encodeURIComponent(a),"-").concat(r.width,"x").concat(r.height,".jpg"))}}):t}},764823:function(e,t,n){"use strict";n.d(t,{Uz:function(){return i},_t:function(){return C},_u:function(){return S},c0:function(){return w},nD:function(){return D}});var i,a=n(331635),r=n(474848),o=n(296540),s=n(415044),d=n(868238),l=n(125959),u=n(586122),c=n(561551),m=n(107212),p=n(954978),v=n(286169),h=n(436617),f=n(457063),g=n(292624),_="captionsEnabled",y="captionsPreset",k="captionsStyle";!function(e){e[e.None=0]="None",e[e.Video=1]="Video",e[e.Ad=2]="Ad"}(i||(i={}));var S={isClipSharing:!1,isFullscreen:!1,isMenuShowing:!1,requestedQuality:!1,showControls:!0,isCollectionSidebarShowing:!1,recommendationsShowing:!1,soundtrackShowing:!1,showClosedCaptionsSettings:!1,streamInfoShowing:!1,videoContainer:void 0,videoRef:void 0,enterFullscreen:function(){return null},exitFullscreen:function(){return null},setClosedCaptionsAvailable:function(){return null},setClosedCaptionsEnabled:function(){return null},setClosedCaptionsSettingsShowing:function(){return null},setClosedCaptionsStyles:function(){return null},setClosedCaptionsStylesPreset:function(){return null},setIsMenuShowing:function(){return null},setRequestedQuality:function(){return null},toggleClipSharing:function(){return null},toggleCollectionSidebar:function(){return null},setShowControls:function(){return null},showCollectionSidebar:function(){return null},hideCollectionSidebar:function(){return null},soundtrackShow:function(){return null},soundtrackHide:function(){return null},setRecommendationsShowing:function(){return null},setStreamInfoShowing:function(){return null},statsOverlay:i.None,setStatsOverlay:function(){return null},captions:{available:!1,enabled:!1,preset:g.Pf.WhiteOnBlack,style:g.qS[g.Pf.WhiteOnBlack]},isKeyboardShortcutsVisible:!1,showKeyboardShortcuts:function(){return null},hideKeyboardShortcuts:function(){return null}},E=(0,h.e)("UIContext",S,(function(e){return{uiContext:e}})),w=E.withMemoContext,C=E.context,b=function(e){function t(t){var n=e.call(this,t)||this;n.enterFullscreen=function(){var e=n.props,t=e.videoContainer,i=e.disableFullscreen,a=e.fullscreenForwardingRef,r=e.shouldFullscreenRoot;if(!i)if(r){var o=document.getElementById("root");o&&n.handleFullscreenRoot(o)}else a?n.props.fullscreen.enable(a):t&&n.props.fullscreen.enable(t)},n.exitFullscreen=function(){n.props.fullscreen.disable()},n.setClosedCaptionsSettingsShowing=function(e){n.setState({showClosedCaptionsSettings:e})},n.toggleCollectionSidebar=function(){n.setState((function(e){return{isCollectionSidebarShowing:!e.isCollectionSidebarShowing}}))},n.showCollectionSidebar=function(){n.setState({isCollectionSidebarShowing:!0})},n.hideCollectionSidebar=function(){n.setState({isCollectionSidebarShowing:!1})},n.soundtrackShow=function(){n.setState((function(e){return e.soundtrackShowing?null:{soundtrackShowing:!0}}))},n.soundtrackHide=function(){n.setState((function(e){return e.soundtrackShowing?{soundtrackShowing:!1}:null}))},n.toggleClipSharing=function(){n.setState((function(e){return{isClipSharing:!e.isClipSharing}}))},n.onFullscreenChange=function(){var e=n.props,t=e.videoContainer,i=e.fullscreen,a=e.fullscreenForwardingRef,r=e.shouldFullscreenRoot,o=i.element();if(!o)return n.setState({isFullscreen:!1}),void(r&&n.revertToPreFullscreenSnapshot());var s=!!t&&o.contains(t),d=!!a&&o.contains(a);n.setState({isFullscreen:s||d})},n.setRequestedQuality=function(e){n.setState({requestedQuality:e})},n.setRecommendationsShowing=function(e){n.setState((function(t){return t.recommendationsShowing===e?null:{recommendationsShowing:e}}))},n.setShowControls=function(e){n.setState({showControls:e})},n.setStatsOverlay=function(e){n.setState({statsOverlay:e})},n.updateVideoContainerRef=function(e){e.videoContainer!==n.props.videoContainer&&n.setState({videoContainer:n.props.videoContainer})},n.updateVideoRef=function(e){e.videoRef!==n.props.videoRef&&n.setState({videoRef:n.props.videoRef})},n.setClosedCaptionsAvailable=function(e){n.setState((function(t){return{captions:(0,a.__assign)((0,a.__assign)({},t.captions),{available:e})}}))},n.setClosedCaptionsEnabled=function(e){l.IG.set(_,e),n.setState((function(t){return{captions:(0,a.__assign)((0,a.__assign)({},t.captions),{enabled:e})}}))},n.setClosedCaptionsStyles=function(e){n.setState((function(t){return{captions:(0,a.__assign)((0,a.__assign)({},t.captions),{preset:g.ly,style:(0,a.__assign)((0,a.__assign)({},t.captions.style),e)})}}),(function(){l.IG.set(y,g.ly),l.IG.set(k,n.state.captions.style)}))},n.setClosedCaptionsStylePreset=function(e){g.qS[e]&&(l.IG.set(y,e),l.IG.set(k,g.qS[e]),n.setState((function(t){return{captions:(0,a.__assign)((0,a.__assign)({},t.captions),{preset:e,style:g.qS[e]})}})))},n.showClipKeyboardShortcuts=function(){n.setState((function(e){return!0===e.isKeyboardShortcutsVisible?null:{isKeyboardShortcutsVisible:!0}}))},n.hideClipKeyboardShortcuts=function(){n.setState((function(e){return!1===e.isKeyboardShortcutsVisible?null:{isKeyboardShortcutsVisible:!1}}))},n.handleQualityChanged=function(){n.setRequestedQuality(!1)},n.setStreamInfoShowing=function(e){n.setState((function(t){return t.streamInfoShowing===e?null:{streamInfoShowing:e}}))},n.setIsMenuShowing=function(e){n.setState((function(t){return t.isMenuShowing===e?null:{isMenuShowing:e}}))},n.handleFullscreenRoot=function(e){n.preFullscreenSnapshot={rightColumnExpanded:n.props.rightColumnExpanded,theaterModeEnabled:n.props.theatreModeEnabled},n.props.enableTheatreMode(),n.props.collapseRightColumn(),n.props.fullscreen.enable(e)},n.revertToPreFullscreenSnapshot=function(){n.preFullscreenSnapshot.theaterModeEnabled||n.props.disableTheatreMode(),n.preFullscreenSnapshot.rightColumnExpanded&&n.props.expandRightColumn()};var r=l.IG.get(k,g.qS[g.Pf.WhiteOnBlack]);return"flashing"===r.fontOpacity&&(r.fontOpacity=g.Y4.Solid),n.state={isFullscreen:!1,isClipSharing:!1,isMenuShowing:!1,requestedQuality:!1,showControls:!0,isCollectionSidebarShowing:!1,recommendationsShowing:!1,soundtrackShowing:!!t.enableSoundtrackByTwitch,showClosedCaptionsSettings:!1,streamInfoShowing:!1,enterFullscreen:n.enterFullscreen,exitFullscreen:n.exitFullscreen,toggleClipSharing:n.toggleClipSharing,setRequestedQuality:n.setRequestedQuality,setClosedCaptionsAvailable:n.setClosedCaptionsAvailable,setClosedCaptionsEnabled:n.setClosedCaptionsEnabled,setClosedCaptionsSettingsShowing:n.setClosedCaptionsSettingsShowing,setClosedCaptionsStyles:n.setClosedCaptionsStyles,setClosedCaptionsStylesPreset:n.setClosedCaptionsStylePreset,setIsMenuShowing:n.setIsMenuShowing,toggleCollectionSidebar:n.toggleCollectionSidebar,showCollectionSidebar:n.showCollectionSidebar,hideCollectionSidebar:n.hideCollectionSidebar,soundtrackShow:n.soundtrackShow,soundtrackHide:n.soundtrackHide,setShowControls:n.setShowControls,setRecommendationsShowing:n.setRecommendationsShowing,setStreamInfoShowing:n.setStreamInfoShowing,statsOverlay:i.None,setStatsOverlay:n.setStatsOverlay,videoContainer:t.videoContainer,videoRef:t.videoRef,captions:{available:!1,enabled:l.IG.get(_,!1),preset:l.IG.get(y,g.Pf.WhiteOnBlack),style:r},isKeyboardShortcutsVisible:!1,showKeyboardShortcuts:n.showClipKeyboardShortcuts,hideKeyboardShortcuts:n.hideClipKeyboardShortcuts},n.preFullscreenSnapshot={rightColumnExpanded:!1,theaterModeEnabled:!1},n}return(0,a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.fullscreen.addChangeListener(this.onFullscreenChange),this.props.playerEvents.addEventListener(p.a.QUALITY_CHANGED,this.handleQualityChanged)},t.prototype.componentDidUpdate=function(e){this.updateVideoContainerRef(e),this.updateVideoRef(e)},t.prototype.componentWillUnmount=function(){this.props.fullscreen.removeChangeListener(this.onFullscreenChange)},t.prototype.render=function(){return(0,r.jsx)(C.Provider,{value:this.state,children:this.props.children})},t}(o.Component),D=(0,d.Zz)((0,s.Ng)((function(e){return{rightColumnExpanded:e.ui.rightColumnExpanded,theatreModeEnabled:e.ui.theatreModeEnabled}}),(function(e){return(0,a.__assign)({},(0,d.zH)({enableTheatreMode:c._H,disableTheatreMode:c.lq,collapseRightColumn:c.o_,expandRightColumn:c.DI},e))})),(0,f.cj)((function(e){var t=(0,v.wk)({playerPublicPropsContext:e}),n=t.disableFullscreen,i=t.fullscreenForwardingRef,a=t.enableSoundtrackByTwitch,r=t.shouldFullscreenRoot;return{disableFullscreen:n,fullscreenForwardingRef:i,enableSoundtrackByTwitch:a,shouldFullscreenRoot:r}})),(0,m.X)(),(0,u.W)())(b)},292624:function(e,t,n){"use strict";n.d(t,{$3:function(){return s},Bn:function(){return I},DA:function(){return f},G0:function(){return d},K7:function(){return C},OU:function(){return h},Pf:function(){return k},Rw:function(){return P},Y4:function(){return l},Yf:function(){return c},Yi:function(){return R},ay:function(){return a},dP:function(){return m},iB:function(){return N},kf:function(){return b},ly:function(){return y},mK:function(){return u},o8:function(){return D},qS:function(){return S},sT:function(){return w},sy:function(){return A},tZ:function(){return T},wX:function(){return v},yF:function(){return E},z9:function(){return V},zz:function(){return p}});var i,a,r=n(331635),o=n(536250);!function(e){e.MonoSerif="mono-serif",e.Serif="prop-serif",e.MonoSansSerif="mono-sans-serif",e.SansSerif="prop-sans-serif",e.Casual="casual",e.Cursive="cursive",e.SmallCapitals="small-capitals"}(a||(a={}));var s,d,l,u,c,m,p,v,h={Black:o.h.Black,White:o.h.White,Red:o.h.Red,Green:o.h.Green,Blue:o.h.Blue,Yellow:o.h.Yellow,Magenta:o.h.Magenta,Cyan:o.h.Cyan},f={Black:o.h.Black,White:o.h.White,Red:o.h.Red,Green:o.h.Green,Blue:o.h.Blue,Yellow:o.h.Yellow,Magenta:o.h.Magenta,Cyan:o.h.Cyan,LightGray:o.h.LightGray,Gray:o.h.Gray,DarkGray:o.h.DarkGray,Transparent:o.h.Transparent};!function(e){e.Left="left",e.Center="center",e.Right="right"}(s||(s={})),function(e){e.Top="top",e.Bottom="bottom"}(d||(d={})),function(e){e.SemiTransparent="semiTransparent",e.Transparent="transparent",e.Translucent="translucent",e.Solid="solid"}(l||(l={})),function(e){e.None="none",e.Underline="underline"}(u||(u={})),function(e){e.Normal="normal",e.Italic="italic"}(c||(c={})),function(e){e.Normal="normal",e.Bold="bold"}(m||(m={})),function(e){e.Bold="fontBold",e.Italic="fontItalic",e.Underline="fontUnderline"}(p||(p={})),function(e){e.Depressed="depressed",e.Uniform="uniform",e.Drop="drop",e.Raised="raised",e.None="none"}(v||(v={}));var g={fontSize:20,fontFamily:a.SansSerif,fontOpacity:l.Solid,alignment:s.Left,edge:v.None,verticalPosition:d.Bottom,backgroundColorName:f.Black,backgroundOpacity:l.Solid,windowColorName:f.Transparent,windowOpacity:l.Solid,fontUnderline:u.None,fontBold:m.Normal,fontItalic:c.Normal,fontColorName:h.White},_=(0,r.__assign)((0,r.__assign)({},g),{backgroundOpacity:l.Translucent}),y="custom",k={WhiteOnBlack:"white-on-black",BlackOnWhite:"black-on-white",CyanOnBlack:"cyan-on-black",YellowOnBlack:"yellow-on-black",LimeOnBlack:"lime-on-black",MagentaOnBlack:"magenta-on-black",WhiteOnTransBlack:"white-on-trans-black",CyanOnTransBlack:"cyan-on-trans-black",YellowOnTransBlack:"yellow-on-trans-black",LimeOnTransBlack:"lime-on-trans-black",MagentaOnTransBlack:"magenta-on-trans-black"},S=((i={})[k.WhiteOnBlack]=g,i[k.CyanOnBlack]=(0,r.__assign)((0,r.__assign)({},g),{fontColorName:h.Cyan}),i[k.YellowOnBlack]=(0,r.__assign)((0,r.__assign)({},g),{fontColorName:h.Yellow}),i[k.LimeOnBlack]=(0,r.__assign)((0,r.__assign)({},g),{fontColorName:h.Green}),i[k.MagentaOnBlack]=(0,r.__assign)((0,r.__assign)({},g),{fontColorName:h.Magenta}),i[k.WhiteOnTransBlack]=(0,r.__assign)((0,r.__assign)({},_),{fontColorName:h.White}),i[k.CyanOnTransBlack]=(0,r.__assign)((0,r.__assign)({},_),{fontColorName:h.Cyan}),i[k.YellowOnTransBlack]=(0,r.__assign)((0,r.__assign)({},_),{fontColorName:h.Yellow}),i[k.LimeOnTransBlack]=(0,r.__assign)((0,r.__assign)({},_),{fontColorName:h.Green}),i[k.MagentaOnTransBlack]=(0,r.__assign)((0,r.__assign)({},_),{fontColorName:h.Magenta}),i[k.BlackOnWhite]=(0,r.__assign)((0,r.__assign)({},g),{backgroundColorName:f.White,fontColorName:h.Black}),i),E={"mono-serif":{fontFamily:'"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',fontVariant:"normal"},"prop-serif":{fontFamily:'"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',fontVariant:"normal"},"mono-sans-serif":{fontFamily:'"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',fontVariant:"normal"},"prop-sans-serif":{fontFamily:'Verdana, Arial, Helvetica, "PT Sans Caption", sans-serif',fontVariant:"normal"},casual:{fontFamily:'"Comic Sans MS", Impact, Handlee, fantasy',fontVariant:"normal"},cursive:{fontFamily:'"Monotype Corsiva", "URW Chancery L", "Apple Chancery", "Dancing Script", cursive',fontVariant:"normal"},"small-capitals":{fontFamily:'"Arial Unicode Ms", Arial, Helvetica, Verdana, "Marcellus SC", sans-serif',fontVariant:"small-caps"}},w={semiTransparent:{opacityValue:.3,animation:"none"},transparent:{opacityValue:0,animation:"none"},translucent:{opacityValue:.6,animation:"none"},solid:{opacityValue:1,animation:"none"}},C={depressed:{textShadow:"-1px -1px 2px #000"},uniform:{textShadow:"-2px -2px 0 #000, -2px 2px 0 #000, -2px 0 0 #000, 2px -2px 0 #000, 2px 2px 0 #000, 2px 0 0 #000, 0 -2px 0 #000, 0 2px 0 #000"},drop:{textShadow:"0 2px 5px #000"},raised:{textShadow:"1px 1px 2px #000"},none:{textShadow:"none"}},b={left:{alignItems:"flex-start"},center:{alignItems:"center"},right:{alignItems:"flex-end"}},D={underline:{textDecoration:"underline"},none:{textDecoration:"none"}},A={italic:{fontStyle:"italic"},normal:{fontStyle:"normal"}},I={bold:{fontWeight:"bold"},normal:{fontWeight:"normal"}},N={top:{top:"18%",bottom:"auto"},bottom:{top:"auto",bottom:"10%"}};function P(e,t){return"transparent"===e?"transparent":"rgba(".concat(e,",").concat(t,")")}var T={black:"0,0,0",white:"255,255,255",red:"255,0,0",green:"0,255,0",blue:"0,0,255",yellow:"255,255,0",magenta:"255,0,255",cyan:"0,255,255"},R={black:"0,0,0",white:"255,255,255",red:"255,0,0",green:"0,255,0",blue:"0,0,255",yellow:"255,255,0",magenta:"255,0,255",cyan:"0,255,255",lightgray:"199,199,199",gray:"145,145,145",darkgray:"91,91,91",transparent:"transparent"},V={increment:5,decrement:-5,max:40,min:10}},674181:function(e,t,n){"use strict";var i;n.d(t,{p:function(){return i}}),function(e){e.CHANNEL_PLAYER="CHANNEL_PLAYER"}(i||(i={}))},88405:function(e,t,n){"use strict";var i;n.d(t,{R:function(){return i}}),function(e){e.Amazon="amazon"}(i||(i={}))},522646:function(e,t,n){"use strict";var i,a;n.d(t,{K:function(){return i},V:function(){return a}}),function(e){e.DFP="DFP",e.TEVS="TEVS",e.VAES="VAES"}(i||(i={})),function(e){e.Error="AdError",e.Resumed="Resumed",e.Paused="Paused",e.ContentPauseRequested="ContentPauseRequested",e.ContentResumeRequested="ContentResumeRequested",e.Loaded="Loaded",e.Started="Started",e.Progress="AdProgress",e.FirstQuartile="FirstQuartile",e.Midpoint="Midpoint",e.ThirdQuartile="ThirdQuartile",e.Impression="Impression",e.Complete="Complete",e.VolumeChanged="VolumeChanged",e.Click="Click",e.CreativeError="CreativeError",e.CreativeViewed="CreativeViewed",e.Muted="Muted",e.Unmuted="Unmuted"}(a||(a={}))},954978:function(e,t,n){"use strict";var i;n.d(t,{a:function(){return i}}),function(e){e.INITIALIZED="PlayerInitialized",e.QUALITY_CHANGED="PlayerQualityChanged",e.QUALITIES_CHANGED="PlayerQualitiesChanged",e.DURATION_CHANGED="PlayerDurationChanged",e.VOLUME_CHANGED="PlayerVolumeChanged",e.MUTED_CHANGED="PlayerMutedChanged",e.PLAYBACK_RATE_CHANGED="PlayerPlaybackRateChanged",e.REBUFFERING="PlayerRebuffering",e.AUDIO_BLOCKED="PlayerAudioBlocked",e.PLAYBACK_BLOCKED="PlayerPlaybackBlocked",e.ERROR="PlayerError",e.RECOVERABLE_ERROR="PlayerRecoverableError",e.ANALYTICS_EVENT="PlayerAnalyticsEvent",e.TIME_UPDATE="PlayerTimeUpdate",e.BUFFER_UPDATE="PlayerBufferUpdate",e.SEEK_COMPLETED="PlayerSeekCompleted",e.SESSION_DATA="PlayerSessionData",e.WORKER_ERROR="PlayerWorkerError",e.METADATA="PlayerMetadata",e.TEXT_CUE="PlayerTextCue",e.TEXT_METADATA_CUE="PlayerTextMetadataCue",e.SEGMENT_METADATA="PlayerSegmentMetadata"}(i||(i={}))},490725:function(e,t,n){"use strict";var i;n.d(t,{m:function(){return i}}),function(e){e.Fullscreen="fullscreen",e.Popout="popout",e.Theatre="theatre mode",e.Mini="mini",e.Default="default",e.Unknown="unknown"}(i||(i={}))},76231:function(e,t,n){"use strict";n.d(t,{h:function(){return o},n:function(){return s}});var i=n(125959),a=n(267924),r=n(407310);function o(e){var t=(0,r.m)(e);return t.platform.isDesktop()?2:t.platform.isTv()?3:t.platform.isMobile()?4:t.platform.isTablet()?5:4}function s(e){var t=(0,r.m)(e),n=i.x2.tracking.getPlatform();if(t.platform.isMobile()||t.platform.isTablet()){if(t.os.isAndroid())return{deviceMake:"Android",deviceOS:t.os.name(),deviceType:a.S7w.IAB_DEVICE_TYPE_MOBILE_TABLET_GENERAL,platform:n};if(t.os.isIOS())return{deviceMake:"Apple",deviceOS:t.os.name(),deviceType:a.S7w.IAB_DEVICE_TYPE_MOBILE_TABLET_GENERAL,platform:n}}else{if(t.platform.isDesktop())return{deviceMake:"",deviceOS:"",deviceType:a.S7w.IAB_DEVICE_TYPE_PERSONAL_COMPUTER,platform:n};if(t.platform.isTv())return{deviceMake:"",deviceOS:"tvos",deviceType:a.S7w.IAB_DEVICE_TYPE_CONNECTED_TV,platform:n}}return{deviceMake:"",deviceOS:"",deviceType:a.S7w.IAB_DEVICE_TYPE_PERSONAL_COMPUTER,platform:n}}},664213:function(e,t,n){"use strict";n.d(t,{y:function(){return r}});var i=n(490725),a=n(763932);function r(e){return e.isFullscreen?i.m.Fullscreen:e.playerType&&e.playerType===a.C.Popout?i.m.Popout:e.theatreModeEnabled?i.m.Theatre:e.mini?i.m.Mini:e.playerType&&e.playerType===a.C.Site?i.m.Default:i.m.Unknown}}}]);